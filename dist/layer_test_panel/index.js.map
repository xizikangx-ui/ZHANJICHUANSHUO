{"version":3,"file":"index.js","mappings":"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","sources":["webpack://tavern_helper_template/src/layer_test/App.vue?9dce","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.4_webpack@5.105.3/node_modules/css-loader/dist/runtime/api.js","src://tavern_helper_template/node_modules/.pnpm/css-loader@7.1.4_webpack@5.105.3/node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://tavern_helper_template/src/layer_test/App.vue?2ea1","src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/listToStyles.js","src://tavern_helper_template/node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/webpack/runtime/compat get default export","src://tavern_helper_template/webpack/runtime/define property getters","src://tavern_helper_template/webpack/runtime/hasOwnProperty shorthand","src://tavern_helper_template/webpack/runtime/make namespace object","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/layer_test/App.vue","webpack://tavern_helper_template/src/layer_test/App.vue?f0e9","src://tavern_helper_template/src/layer_test_panel/index.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/.pnpm/css-loader@7.1.4_webpack@5.105.3/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/.pnpm/css-loader@7.1.4_webpack@5.105.3/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Noto+Serif+SC:wght@400;500;700&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*! tailwindcss v4.2.1 | MIT License | https://tailwindcss.com */.shell[data-v-08663983]{--ink:#e8ddc6;--ink-muted:#b7a586;--line:#6f5632;--line-soft:#4f3b23;--panel:rgba(16,12,9,0.9);--panel-2:rgba(34,24,16,0.9);--gold:#b49a63;width:min(96vw,1920px);max-width:none;min-height:96vh;margin:0 auto;padding:14px;display:flex;flex-direction:column;gap:10px;color:var(--ink);background:radial-gradient(circle at 14% -10%,rgba(188,146,71,0.2),transparent 34%),radial-gradient(circle at 90% 0,rgba(130,40,40,0.18),transparent 28%),linear-gradient(150deg,#080705,#120d09 48%,#090705);border:1px solid var(--line);border-radius:14px;font-family:\"Noto Serif SC\",\"Source Han Serif SC\",serif;position:relative;overflow:hidden;box-shadow:0 24px 70px rgba(0,0,0,.5),inset 0 0 0 1px rgba(255,223,160,.06);text-align:center}.shell[data-v-08663983]::before,.shell[data-v-08663983]::after{content:\"\";position:absolute;inset:0;pointer-events:none}.shell[data-v-08663983]::before{background:linear-gradient(transparent 97%,rgba(232,193,110,0.05)),linear-gradient(90deg,transparent 97%,rgba(166,45,45,0.03));background-size:100% 4px,4px 100%;mix-blend-mode:soft-light}.shell[data-v-08663983]::after{border:1px solid rgba(188,156,98,.24);border-radius:11px;margin:6px}.start-screen[data-v-08663983]{min-height:calc(100vh - 110px);display:grid;place-items:center;border:1px solid var(--line);border-radius:12px;position:relative;overflow:hidden;background:radial-gradient(circle at 20% 25%,rgba(118,34,34,0.3),transparent 42%),radial-gradient(circle at 75% 15%,rgba(168,134,69,0.25),transparent 34%),linear-gradient(140deg,rgba(12,9,7,0.94),rgba(19,13,9,0.95))}.start-screen__veil[data-v-08663983]{position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent 0,transparent 5px,rgba(232,193,110,0.05) 5px,rgba(232,193,110,0.05) 6px);animation:pageDrift-08663983 16s linear infinite}.start-card[data-v-08663983]{position:relative;width:min(1600px,100% - 28px);border:1px solid #8f7044;border-radius:10px;background:linear-gradient(180deg,rgba(20,14,10,0.95),rgba(13,10,8,0.96));padding:28px 26px;box-shadow:0 18px 44px rgba(0,0,0,.44),inset 0 0 0 1px rgba(217,181,113,.1);animation:cardLift-08663983 520ms ease-out}.start-card__kicker[data-v-08663983]{margin:0;font:600 11px/1.2 \"Cinzel\",\"Noto Serif SC\",serif;letter-spacing:.18em;color:#c9b086}.start-card h2[data-v-08663983]{margin:10px 0 8px;font:700 clamp(72px,12vw,168px)/1.04 \"Cinzel\",\"Noto Serif SC\",serif;letter-spacing:.12em;color:rgba(0,0,0,0);background:linear-gradient(180deg,#fff6dc 0%,#f8de9f 24%,#d3aa57 52%,#f1d188 74%,#8d6428 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);text-shadow:0 0 6px rgba(181,141,64,.26),0 0 14px rgba(116,82,30,.22),0 0 26px rgba(64,44,16,.16)}.start-card__desc[data-v-08663983]{margin:0;color:var(--ink-muted);line-height:1.65}.start-card__author[data-v-08663983]{margin:0 0 10px;color:#ceb893;letter-spacing:.05em}.start-card__quote[data-v-08663983]{margin:14px 0 0;padding-left:0;border-left:0;color:#d7c7a7;opacity:.92}.start-card__mode[data-v-08663983]{margin:8px 0 0;color:#ceb893;font-size:13px}.start-card__actions[data-v-08663983]{margin-top:18px;display:grid;grid-template-columns:1fr;gap:10px;width:min(420px,92%);margin-inline:auto;justify-items:center;align-items:center}.start-card__actions button[data-v-08663983]{width:min(320px,100%);display:block;text-align:center;margin-inline:auto}.start-card__actions .xeno[data-v-08663983]{border-color:#8b4a4a;background:linear-gradient(180deg,#5e2a2a,#3e1b1b)}.create-card[data-v-08663983]{display:grid;gap:14px}.create-card h2[data-v-08663983]{margin:0;font:700 30px/1.2 \"Cinzel\",\"Noto Serif SC\",serif;text-align:center;color:#f3e4c4;text-shadow:0 0 10px rgba(160,120,58,.22)}.create-card label[data-v-08663983]{display:grid;gap:8px;padding:12px;border:1px solid rgba(190,152,85,.5);border-radius:10px;background:linear-gradient(180deg,rgba(227,183,107,0.05),rgba(227,183,107,0)),rgba(25,18,12,.86);box-shadow:inset 0 0 0 1px rgba(255,223,163,.06)}.create-card label>span[data-v-08663983]{font-size:18px;font-weight:700;letter-spacing:.03em;color:#f0ddb7}.create-card input[data-v-08663983],.create-card select[data-v-08663983],.create-card textarea[data-v-08663983]{font-size:18px;color:#f5e8cc;background:rgba(31,22,14,.95);border-color:#b4915e}.desc-field textarea[data-v-08663983]{min-height:180px;font-size:14px;line-height:1.5;white-space:pre-wrap}.xeno-box[data-v-08663983]{border:1px solid rgba(156,79,79,.55);border-radius:10px;padding:10px;background:linear-gradient(180deg,rgba(120,42,42,0.16),rgba(40,16,16,0.2));display:grid;gap:8px}.xeno-box>p[data-v-08663983]{margin:0}.attr-list[data-v-08663983]{display:grid;gap:8px}.attr-item[data-v-08663983]{border:1px solid rgba(190,152,85,.38);border-radius:8px;background:rgba(26,18,12,.72);padding:10px;display:grid;gap:8px}.attr-item header[data-v-08663983]{display:grid;gap:3px}.attr-item header strong[data-v-08663983]{font-size:18px;color:#f0ddb7}.attr-item header span[data-v-08663983]{font-size:13px;color:var(--ink-muted)}.attr-ctrl[data-v-08663983]{display:flex;justify-content:center;align-items:center;gap:8px}.attr-ctrl b[data-v-08663983]{min-width:28px;font-size:20px;color:#f4e7cd}.topbar[data-v-08663983],.row[data-v-08663983]{display:flex;justify-content:center;align-items:center;gap:8px;flex-wrap:wrap}.center-row[data-v-08663983]{justify-content:center}.title h1[data-v-08663983]{margin:0;font:700 24px/1.2 \"Cinzel\",\"Noto Serif SC\",serif;letter-spacing:.05em}.title p[data-v-08663983]{margin:3px 0 0;font-size:12px;color:var(--ink-muted)}.controls[data-v-08663983]{display:flex;gap:8px;justify-content:center}.db-btn[data-v-08663983]{border-color:#8f7044;background:linear-gradient(180deg,rgba(103,78,41,0.45),rgba(49,36,19,0.45))}.panel[data-v-08663983]{border:1px solid var(--line-soft);border-radius:10px;background:linear-gradient(180deg,rgba(255,230,180,0.03),transparent),var(--panel);padding:10px;box-shadow:inset 0 0 0 1px rgba(255,223,160,.05)}.main-layout[data-v-08663983]{display:grid;grid-template-columns:260px minmax(0,1fr);gap:10px;align-items:start}.main-column[data-v-08663983]{display:grid;gap:10px}.player-sidebar[data-v-08663983]{position:sticky;top:10px;text-align:left}.player-sidebar h3[data-v-08663983]{margin:0 0 10px;font:700 18px/1.2 \"Cinzel\",\"Noto Serif SC\",serif;letter-spacing:.04em;color:#f2dfbb}.player-sidebar dl[data-v-08663983]{margin:0;display:grid;gap:8px}.player-sidebar dl>div[data-v-08663983]{display:grid;gap:4px;padding:8px;border:1px solid rgba(190,152,85,.38);border-radius:8px;background:rgba(26,18,12,.72)}.player-sidebar dt[data-v-08663983]{font-size:12px;color:var(--ink-muted)}.player-sidebar dd[data-v-08663983]{margin:0;font-size:16px;color:#f4e7cd}.inventory-panel[data-v-08663983]{margin-top:10px;border:1px solid rgba(190,152,85,.35);border-radius:8px;padding:8px;background:rgba(22,16,11,.72);display:grid;gap:8px}.inventory-panel h4[data-v-08663983]{margin:0;color:#efdcb8}.inventory-form[data-v-08663983]{display:grid;grid-template-columns:1fr;gap:6px}.inventory-item[data-v-08663983]{border:1px solid rgba(190,152,85,.28);border-radius:8px;padding:7px;background:rgba(29,21,14,.72);text-align:left}.inventory-item header[data-v-08663983]{display:flex;justify-content:space-between;align-items:center;gap:6px}.inventory-item p[data-v-08663983]{margin:4px 0 0}.attr-card dd[data-v-08663983]{display:flex;gap:6px;flex-wrap:wrap}.attr-chip[data-v-08663983]{border:1px solid rgba(190,152,85,.35);border-radius:999px;padding:2px 7px;font-size:12px;color:#e8d8b7;background:rgba(20,14,10,.7)}.settings[data-v-08663983]{display:grid;grid-template-columns:1fr 1fr;gap:8px}.settings label[data-v-08663983]:last-of-type{grid-column:1/-1}.settings label.full[data-v-08663983]{grid-column:1/-1}.toggle[data-v-08663983]{grid-column:1/-1;display:flex;align-items:center;gap:10px;font-size:12px;color:var(--ink-muted);justify-content:center}.toggle input[type=checkbox][data-v-08663983]{appearance:none;-webkit-appearance:none;width:44px;height:24px;border-radius:999px;border:1px solid #8e6c3d;background:linear-gradient(180deg,#2c2014,#1c150e);position:relative;cursor:pointer;transition:background .2s ease,border-color .2s ease;flex:0 0 auto}.memory-vault[data-v-08663983]{display:grid;gap:8px}.memory-item[data-v-08663983]{border:1px solid rgba(190,152,85,.34);border-radius:8px;background:rgba(23,16,11,.82);padding:8px;text-align:left}.memory-item header[data-v-08663983]{display:flex;justify-content:space-between;gap:8px;align-items:baseline;margin-bottom:6px}.memory-item pre[data-v-08663983]{margin:0;white-space:pre-wrap;line-height:1.45;color:#e6d7b8}.memory-item.mega[data-v-08663983]{border-color:rgba(118,88,42,.6);background:rgba(30,22,13,.86)}.npc-panel[data-v-08663983]{display:grid;gap:8px}.npc-form[data-v-08663983]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px}.npc-columns[data-v-08663983]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px}.npc-columns section[data-v-08663983]{border:1px solid rgba(190,152,85,.3);border-radius:8px;padding:8px;background:rgba(23,16,11,.7);text-align:left}.npc-columns h4[data-v-08663983]{margin:0 0 6px;color:#ead9b8}.npc-card[data-v-08663983]{border:1px solid rgba(190,152,85,.28);border-radius:8px;padding:8px;margin-bottom:6px;background:rgba(31,22,14,.72)}.npc-card header[data-v-08663983]{display:flex;justify-content:space-between;align-items:center;gap:6px}.npc-card p[data-v-08663983]{margin:4px 0 0}.toggle input[type=checkbox][data-v-08663983]::after{content:\"\";position:absolute;top:2px;left:2px;width:18px;height:18px;border-radius:50%;background:linear-gradient(180deg,#d2bf96,#9a7f4f);box-shadow:0 1px 4px rgba(0,0,0,.4);transition:left .2s ease}.toggle input[type=checkbox][data-v-08663983]:checked{background:linear-gradient(180deg,#6e2a2a,#4c1c1c);border-color:#b8835f}.toggle input[type=checkbox][data-v-08663983]:checked::after{left:22px}input[data-v-08663983],select[data-v-08663983],textarea[data-v-08663983],button[data-v-08663983]{border:1px solid #7b6040;border-radius:7px;background:rgba(34,24,16,.9);color:var(--ink);padding:8px}input[data-v-08663983],select[data-v-08663983],textarea[data-v-08663983]{width:100%}button[data-v-08663983]{cursor:pointer;background:linear-gradient(180deg,#7c6038,#523a24);border-color:#ad8d59;transition:filter 160ms ease,transform 160ms ease}button[data-v-08663983]:hover{filter:brightness(1.08);transform:translateY(-1px)}button[data-v-08663983]:active{transform:translateY(0)}button.ghost[data-v-08663983]{background:linear-gradient(180deg,#3a2b1d,#281d13);border-color:#6d5637}.quick button[data-v-08663983]:nth-child(2){border-color:#8b5f43}.quick button[data-v-08663983]:nth-child(3){border-color:#844444;background:linear-gradient(180deg,#6e3535,#4a2222)}button.small[data-v-08663983]{font-size:11px;padding:4px 8px}button[data-v-08663983]:disabled{opacity:.55;cursor:not-allowed;transform:none}.quick[data-v-08663983]{display:flex;gap:8px}.chat[data-v-08663983]{display:flex;flex-direction:column;gap:10px}.messages[data-v-08663983]{max-height:52vh;overflow:auto;display:flex;flex-direction:column;gap:8px;padding-right:2px;align-items:center}.messages[data-v-08663983]::-webkit-scrollbar{width:8px}.messages[data-v-08663983]::-webkit-scrollbar-thumb{background:rgba(155,122,72,.7);border-radius:10px}.msg[data-v-08663983]{border:1px solid #685133;border-radius:9px;padding:10px;background:rgba(24,18,12,.8);width:min(940px,100%)}.msg--user[data-v-08663983]{border-color:#8f5d3e;background:linear-gradient(180deg,rgba(33,22,15,0.95),rgba(25,18,13,0.9))}.msg--assistant[data-v-08663983]{border-color:#7b6a49;background:linear-gradient(180deg,rgba(20,16,11,0.95),rgba(14,12,9,0.92))}.msg--error[data-v-08663983]{border-color:#8f3d3d;background:rgba(128,38,38,.26)}.msg header[data-v-08663983]{font:600 11px/1.3 \"Cinzel\",\"Noto Serif SC\",serif;letter-spacing:.08em;color:var(--ink-muted);margin-bottom:5px}.msg pre[data-v-08663983]{white-space:pre-wrap;margin:0;font:inherit;line-height:1.7;text-align:center}.composer[data-v-08663983]{display:flex;flex-direction:column;gap:8px}.hint[data-v-08663983]{font-size:12px;color:var(--ink-muted)}.system-float[data-v-08663983]{position:fixed;right:14px;top:14px;z-index:200000;display:flex;flex-direction:column;gap:8px;width:min(360px,100vw - 24px)}.system-notice[data-v-08663983]{border:1px solid #9d7a46;border-radius:8px;background:linear-gradient(180deg,rgba(24,18,12,0.97),rgba(18,14,10,0.97));box-shadow:0 10px 30px rgba(0,0,0,.4);padding:10px}.system-notice header[data-v-08663983]{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:6px;color:var(--gold)}.db-notice[data-v-08663983]{border-color:#b68a48;box-shadow:0 12px 30px rgba(0,0,0,.45)}@keyframes cardLift-08663983{from{opacity:0;transform:translateY(10px) scale(0.99)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes pageDrift-08663983{from{transform:translateY(0)}to{transform:translateY(6px)}}@media (max-width:700px){.main-layout[data-v-08663983]{grid-template-columns:1fr}.player-sidebar[data-v-08663983]{position:static;text-align:center}.settings[data-v-08663983],.quick[data-v-08663983]{grid-template-columns:1fr;display:grid}.npc-form[data-v-08663983],.npc-columns[data-v-08663983]{grid-template-columns:1fr}.title h1[data-v-08663983]{font-size:19px}.start-card[data-v-08663983]{padding:20px 16px}.start-card__actions[data-v-08663983]{display:grid;grid-template-columns:1fr}}`, \"\",{\"version\":3,\"sources\":[\"<no source>\",\"webpack://./src/layer_test/App.vue\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[null,\"@import\\\"https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Noto+Serif+SC:wght@400;500;700&display=swap\\\";.shell{--ink: #e8ddc6;--ink-muted: #b7a586;--line: #6f5632;--line-soft: #4f3b23;--panel: rgba(16, 12, 9, 0.9);--panel-2: rgba(34, 24, 16, 0.9);--gold: #b49a63;width:min(96vw,1920px);max-width:none;min-height:96vh;margin:0 auto;padding:14px;display:flex;flex-direction:column;gap:10px;color:var(--ink);background:radial-gradient(circle at 14% -10%, rgba(188, 146, 71, 0.2), transparent 34%),radial-gradient(circle at 90% 0, rgba(130, 40, 40, 0.18), transparent 28%),linear-gradient(150deg, #080705, #120d09 48%, #090705);border:1px solid var(--line);border-radius:14px;font-family:\\\"Noto Serif SC\\\",\\\"Source Han Serif SC\\\",serif;position:relative;overflow:hidden;box-shadow:0 24px 70px rgba(0,0,0,.5),inset 0 0 0 1px rgba(255,223,160,.06);text-align:center}.shell::before,.shell::after{content:\\\"\\\";position:absolute;inset:0;pointer-events:none}.shell::before{background:linear-gradient(transparent 97%, rgba(232, 193, 110, 0.05)),linear-gradient(90deg, transparent 97%, rgba(166, 45, 45, 0.03));background-size:100% 4px,4px 100%;mix-blend-mode:soft-light}.shell::after{border:1px solid rgba(188,156,98,.24);border-radius:11px;margin:6px}.start-screen{min-height:calc(100vh - 110px);display:grid;place-items:center;border:1px solid var(--line);border-radius:12px;position:relative;overflow:hidden;background:radial-gradient(circle at 20% 25%, rgba(118, 34, 34, 0.3), transparent 42%),radial-gradient(circle at 75% 15%, rgba(168, 134, 69, 0.25), transparent 34%),linear-gradient(140deg, rgba(12, 9, 7, 0.94), rgba(19, 13, 9, 0.95))}.start-screen__veil{position:absolute;inset:0;background:repeating-linear-gradient(0deg, transparent 0, transparent 5px, rgba(232, 193, 110, 0.05) 5px, rgba(232, 193, 110, 0.05) 6px);animation:pageDrift 16s linear infinite}.start-card{position:relative;width:min(1600px,100% - 28px);border:1px solid #8f7044;border-radius:10px;background:linear-gradient(180deg, rgba(20, 14, 10, 0.95), rgba(13, 10, 8, 0.96));padding:28px 26px;box-shadow:0 18px 44px rgba(0,0,0,.44),inset 0 0 0 1px rgba(217,181,113,.1);animation:cardLift 520ms ease-out}.start-card__kicker{margin:0;font:600 11px/1.2 \\\"Cinzel\\\",\\\"Noto Serif SC\\\",serif;letter-spacing:.18em;color:#c9b086}.start-card h2{margin:10px 0 8px;font:700 clamp(72px, 12vw, 168px)/1.04 \\\"Cinzel\\\",\\\"Noto Serif SC\\\",serif;letter-spacing:.12em;color:rgba(0,0,0,0);background:linear-gradient(180deg, #fff6dc 0%, #f8de9f 24%, #d3aa57 52%, #f1d188 74%, #8d6428 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);text-shadow:0 0 6px rgba(181,141,64,.26),0 0 14px rgba(116,82,30,.22),0 0 26px rgba(64,44,16,.16)}.start-card__desc{margin:0;color:var(--ink-muted);line-height:1.65}.start-card__author{margin:0 0 10px;color:#ceb893;letter-spacing:.05em}.start-card__quote{margin:14px 0 0;padding-left:0;border-left:0;color:#d7c7a7;opacity:.92}.start-card__mode{margin:8px 0 0;color:#ceb893;font-size:13px}.start-card__actions{margin-top:18px;display:grid;grid-template-columns:1fr;gap:10px;width:min(420px,92%);margin-inline:auto;justify-items:center;align-items:center}.start-card__actions button{width:min(320px,100%);display:block;text-align:center;margin-inline:auto}.start-card__actions .xeno{border-color:#8b4a4a;background:linear-gradient(180deg, #5e2a2a, #3e1b1b)}.create-card{display:grid;gap:14px}.create-card h2{margin:0;font:700 30px/1.2 \\\"Cinzel\\\",\\\"Noto Serif SC\\\",serif;text-align:center;color:#f3e4c4;text-shadow:0 0 10px rgba(160,120,58,.22)}.create-card label{display:grid;gap:8px;padding:12px;border:1px solid rgba(190,152,85,.5);border-radius:10px;background:linear-gradient(180deg, rgba(227, 183, 107, 0.05), rgba(227, 183, 107, 0)),rgba(25,18,12,.86);box-shadow:inset 0 0 0 1px rgba(255,223,163,.06)}.create-card label>span{font-size:18px;font-weight:700;letter-spacing:.03em;color:#f0ddb7}.create-card input,.create-card select,.create-card textarea{font-size:18px;color:#f5e8cc;background:rgba(31,22,14,.95);border-color:#b4915e}.desc-field textarea{min-height:180px;font-size:14px;line-height:1.5;white-space:pre-wrap}.xeno-box{border:1px solid rgba(156,79,79,.55);border-radius:10px;padding:10px;background:linear-gradient(180deg, rgba(120, 42, 42, 0.16), rgba(40, 16, 16, 0.2));display:grid;gap:8px}.xeno-box>p{margin:0}.attr-list{display:grid;gap:8px}.attr-item{border:1px solid rgba(190,152,85,.38);border-radius:8px;background:rgba(26,18,12,.72);padding:10px;display:grid;gap:8px}.attr-item header{display:grid;gap:3px}.attr-item header strong{font-size:18px;color:#f0ddb7}.attr-item header span{font-size:13px;color:var(--ink-muted)}.attr-ctrl{display:flex;justify-content:center;align-items:center;gap:8px}.attr-ctrl b{min-width:28px;font-size:20px;color:#f4e7cd}.topbar,.row{display:flex;justify-content:center;align-items:center;gap:8px;flex-wrap:wrap}.center-row{justify-content:center}.title h1{margin:0;font:700 24px/1.2 \\\"Cinzel\\\",\\\"Noto Serif SC\\\",serif;letter-spacing:.05em}.title p{margin:3px 0 0;font-size:12px;color:var(--ink-muted)}.controls{display:flex;gap:8px;justify-content:center}.db-btn{border-color:#8f7044;background:linear-gradient(180deg, rgba(103, 78, 41, 0.45), rgba(49, 36, 19, 0.45))}.panel{border:1px solid var(--line-soft);border-radius:10px;background:linear-gradient(180deg, rgba(255, 230, 180, 0.03), transparent),var(--panel);padding:10px;box-shadow:inset 0 0 0 1px rgba(255,223,160,.05)}.main-layout{display:grid;grid-template-columns:260px minmax(0, 1fr);gap:10px;align-items:start}.main-column{display:grid;gap:10px}.player-sidebar{position:sticky;top:10px;text-align:left}.player-sidebar h3{margin:0 0 10px;font:700 18px/1.2 \\\"Cinzel\\\",\\\"Noto Serif SC\\\",serif;letter-spacing:.04em;color:#f2dfbb}.player-sidebar dl{margin:0;display:grid;gap:8px}.player-sidebar dl>div{display:grid;gap:4px;padding:8px;border:1px solid rgba(190,152,85,.38);border-radius:8px;background:rgba(26,18,12,.72)}.player-sidebar dt{font-size:12px;color:var(--ink-muted)}.player-sidebar dd{margin:0;font-size:16px;color:#f4e7cd}.inventory-panel{margin-top:10px;border:1px solid rgba(190,152,85,.35);border-radius:8px;padding:8px;background:rgba(22,16,11,.72);display:grid;gap:8px}.inventory-panel h4{margin:0;color:#efdcb8}.inventory-form{display:grid;grid-template-columns:1fr;gap:6px}.inventory-item{border:1px solid rgba(190,152,85,.28);border-radius:8px;padding:7px;background:rgba(29,21,14,.72);text-align:left}.inventory-item header{display:flex;justify-content:space-between;align-items:center;gap:6px}.inventory-item p{margin:4px 0 0}.attr-card dd{display:flex;gap:6px;flex-wrap:wrap}.attr-chip{border:1px solid rgba(190,152,85,.35);border-radius:999px;padding:2px 7px;font-size:12px;color:#e8d8b7;background:rgba(20,14,10,.7)}.settings{display:grid;grid-template-columns:1fr 1fr;gap:8px}.settings label:last-of-type{grid-column:1/-1}.settings label.full{grid-column:1/-1}.toggle{grid-column:1/-1;display:flex;align-items:center;gap:10px;font-size:12px;color:var(--ink-muted);justify-content:center}.toggle input[type=checkbox]{appearance:none;-webkit-appearance:none;width:44px;height:24px;border-radius:999px;border:1px solid #8e6c3d;background:linear-gradient(180deg, #2c2014, #1c150e);position:relative;cursor:pointer;transition:background .2s ease,border-color .2s ease;flex:0 0 auto}.memory-vault{display:grid;gap:8px}.memory-item{border:1px solid rgba(190,152,85,.34);border-radius:8px;background:rgba(23,16,11,.82);padding:8px;text-align:left}.memory-item header{display:flex;justify-content:space-between;gap:8px;align-items:baseline;margin-bottom:6px}.memory-item pre{margin:0;white-space:pre-wrap;line-height:1.45;color:#e6d7b8}.memory-item.mega{border-color:rgba(118,88,42,.6);background:rgba(30,22,13,.86)}.npc-panel{display:grid;gap:8px}.npc-form{display:grid;grid-template-columns:repeat(3, minmax(0, 1fr));gap:8px}.npc-columns{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr));gap:8px}.npc-columns section{border:1px solid rgba(190,152,85,.3);border-radius:8px;padding:8px;background:rgba(23,16,11,.7);text-align:left}.npc-columns h4{margin:0 0 6px;color:#ead9b8}.npc-card{border:1px solid rgba(190,152,85,.28);border-radius:8px;padding:8px;margin-bottom:6px;background:rgba(31,22,14,.72)}.npc-card header{display:flex;justify-content:space-between;align-items:center;gap:6px}.npc-card p{margin:4px 0 0}.toggle input[type=checkbox]::after{content:\\\"\\\";position:absolute;top:2px;left:2px;width:18px;height:18px;border-radius:50%;background:linear-gradient(180deg, #d2bf96, #9a7f4f);box-shadow:0 1px 4px rgba(0,0,0,.4);transition:left .2s ease}.toggle input[type=checkbox]:checked{background:linear-gradient(180deg, #6e2a2a, #4c1c1c);border-color:#b8835f}.toggle input[type=checkbox]:checked::after{left:22px}input,select,textarea,button{border:1px solid #7b6040;border-radius:7px;background:rgba(34,24,16,.9);color:var(--ink);padding:8px}input,select,textarea{width:100%}button{cursor:pointer;background:linear-gradient(180deg, #7c6038, #523a24);border-color:#ad8d59;transition:filter 160ms ease,transform 160ms ease}button:hover{filter:brightness(1.08);transform:translateY(-1px)}button:active{transform:translateY(0)}button.ghost{background:linear-gradient(180deg, #3a2b1d, #281d13);border-color:#6d5637}.quick button:nth-child(2){border-color:#8b5f43}.quick button:nth-child(3){border-color:#844444;background:linear-gradient(180deg, #6e3535, #4a2222)}button.small{font-size:11px;padding:4px 8px}button:disabled{opacity:.55;cursor:not-allowed;transform:none}.quick{display:flex;gap:8px}.chat{display:flex;flex-direction:column;gap:10px}.messages{max-height:52vh;overflow:auto;display:flex;flex-direction:column;gap:8px;padding-right:2px;align-items:center}.messages::-webkit-scrollbar{width:8px}.messages::-webkit-scrollbar-thumb{background:rgba(155,122,72,.7);border-radius:10px}.msg{border:1px solid #685133;border-radius:9px;padding:10px;background:rgba(24,18,12,.8);width:min(940px,100%)}.msg--user{border-color:#8f5d3e;background:linear-gradient(180deg, rgba(33, 22, 15, 0.95), rgba(25, 18, 13, 0.9))}.msg--assistant{border-color:#7b6a49;background:linear-gradient(180deg, rgba(20, 16, 11, 0.95), rgba(14, 12, 9, 0.92))}.msg--error{border-color:#8f3d3d;background:rgba(128,38,38,.26)}.msg header{font:600 11px/1.3 \\\"Cinzel\\\",\\\"Noto Serif SC\\\",serif;letter-spacing:.08em;color:var(--ink-muted);margin-bottom:5px}.msg pre{white-space:pre-wrap;margin:0;font:inherit;line-height:1.7;text-align:center}.composer{display:flex;flex-direction:column;gap:8px}.hint{font-size:12px;color:var(--ink-muted)}.system-float{position:fixed;right:14px;top:14px;z-index:200000;display:flex;flex-direction:column;gap:8px;width:min(360px,100vw - 24px)}.system-notice{border:1px solid #9d7a46;border-radius:8px;background:linear-gradient(180deg, rgba(24, 18, 12, 0.97), rgba(18, 14, 10, 0.97));box-shadow:0 10px 30px rgba(0,0,0,.4);padding:10px}.system-notice header{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:6px;color:var(--gold)}.db-notice{border-color:#b68a48;box-shadow:0 12px 30px rgba(0,0,0,.45)}@keyframes cardLift{from{opacity:0;transform:translateY(10px) scale(0.99)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes pageDrift{from{transform:translateY(0)}to{transform:translateY(6px)}}@media(max-width: 700px){.main-layout{grid-template-columns:1fr}.player-sidebar{position:static;text-align:center}.settings,.quick{grid-template-columns:1fr;display:grid}.npc-form,.npc-columns{grid-template-columns:1fr}.title h1{font-size:19px}.start-card{padding:20px 16px}.start-card__actions{display:grid;grid-template-columns:1fr}}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","/* unplugin-vue-components disabled */// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/.pnpm/css-loader@7.1.4_webpack@5.105.3/node_modules/css-loader/dist/cjs.js??clonedRuleSet-259.use[1]!../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@8.2.1_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.105.3/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@16.0.7_sass@1.97.3_webpack@5.105.3/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=0&id=08663983&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/.pnpm/vue-style-loader@4.1.3/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8b319ed0\", content, false, {\"ssrId\":true});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/.pnpm/css-loader@7.1.4_webpack@5.105.3/node_modules/css-loader/dist/cjs.js??clonedRuleSet-259.use[1]!../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@8.2.1_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.105.3/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@16.0.7_sass@1.97.3_webpack@5.105.3/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=0&id=08663983&scoped=true&lang=scss\", function() {\n     var newContent = require(\"!!../../node_modules/.pnpm/css-loader@7.1.4_webpack@5.105.3/node_modules/css-loader/dist/cjs.js??clonedRuleSet-259.use[1]!../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/.pnpm/postcss-loader@8.2.1_postcss@8.5.6_typescript@6.0.0-dev.20250807_webpack@5.105.3/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@16.0.7_sass@1.97.3_webpack@5.105.3/node_modules/sass-loader/dist/cjs.js!../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./App.vue?vue&type=style&index=0&id=08663983&scoped=true&lang=scss\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect, isRef as _isRef, vModelCheckbox as _vModelCheckbox, normalizeClass as _normalizeClass, withModifiers as _withModifiers } from \"vue\";\n\nimport { computed, ref, reactive, inject, watch, onMounted, onUnmounted } from 'vue';\nconst _hoisted_1 = {\n    key: 0,\n    class: \"start-screen\"\n};\nconst _hoisted_2 = { class: \"start-card\" };\nconst _hoisted_3 = { class: \"start-card__mode\" };\nconst _hoisted_4 = { class: \"start-card__mode\" };\nconst _hoisted_5 = { class: \"start-card__mode\" };\nconst _hoisted_6 = { class: \"start-card__actions\" };\nconst _hoisted_7 = {\n    key: 1,\n    class: \"panel create-card\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = [\"value\"];\nconst _hoisted_10 = {\n    key: 0,\n    class: \"xeno-box\"\n};\nconst _hoisted_11 = { class: \"desc-field\" };\nconst _hoisted_12 = [\"value\"];\nconst _hoisted_13 = [\"min\", \"max\"];\nconst _hoisted_14 = [\"disabled\"];\nconst _hoisted_15 = [\"value\"];\nconst _hoisted_16 = { key: 1 };\nconst _hoisted_17 = [\"value\"];\nconst _hoisted_18 = {\n    key: 2,\n    class: \"desc-field\"\n};\nconst _hoisted_19 = [\"value\"];\nconst _hoisted_20 = { class: \"row center-row\" };\nconst _hoisted_21 = {\n    key: 2,\n    class: \"panel create-card\"\n};\nconst _hoisted_22 = { class: \"hint\" };\nconst _hoisted_23 = { class: \"attr-list\" };\nconst _hoisted_24 = { class: \"attr-ctrl\" };\nconst _hoisted_25 = [\"disabled\", \"onClick\"];\nconst _hoisted_26 = [\"disabled\", \"onClick\"];\nconst _hoisted_27 = { class: \"row center-row\" };\nconst _hoisted_28 = {\n    key: 3,\n    class: \"panel create-card\"\n};\nconst _hoisted_29 = [\"value\"];\nconst _hoisted_30 = { class: \"row\" };\nconst _hoisted_31 = { class: \"hint\" };\nconst _hoisted_32 = { class: \"desc-field\" };\nconst _hoisted_33 = { class: \"hint\" };\nconst _hoisted_34 = { class: \"row center-row\" };\nconst _hoisted_35 = { class: \"topbar\" };\nconst _hoisted_36 = { class: \"controls\" };\nconst _hoisted_37 = { class: \"main-layout\" };\nconst _hoisted_38 = { class: \"panel player-sidebar\" };\nconst _hoisted_39 = { class: \"attr-card\" };\nconst _hoisted_40 = { class: \"resource-card\" };\nconst _hoisted_41 = { class: \"attr-chip\" };\nconst _hoisted_42 = { class: \"attr-chip\" };\nconst _hoisted_43 = { class: \"attr-chip\" };\nconst _hoisted_44 = { class: \"inventory-panel\" };\nconst _hoisted_45 = { class: \"row\" };\nconst _hoisted_46 = {\n    key: 0,\n    class: \"inventory-form\"\n};\nconst _hoisted_47 = {\n    key: 1,\n    class: \"hint\"\n};\nconst _hoisted_48 = [\"onClick\"];\nconst _hoisted_49 = {\n    key: 2,\n    class: \"hint\"\n};\nconst _hoisted_50 = { class: \"main-column\" };\nconst _hoisted_51 = { class: \"panel pager\" };\nconst _hoisted_52 = { class: \"row\" };\nconst _hoisted_53 = [\"disabled\"];\nconst _hoisted_54 = { class: \"hint\" };\nconst _hoisted_55 = [\"disabled\"];\nconst _hoisted_56 = { class: \"toggle\" };\nconst _hoisted_57 = {\n    key: 0,\n    class: \"panel settings\"\n};\nconst _hoisted_58 = { class: \"row\" };\nconst _hoisted_59 = { class: \"hint\" };\nconst _hoisted_60 = { class: \"toggle\" };\nconst _hoisted_61 = { id: \"th-model-options\" };\nconst _hoisted_62 = [\"value\"];\nconst _hoisted_63 = { class: \"row\" };\nconst _hoisted_64 = [\"disabled\"];\nconst _hoisted_65 = { class: \"hint\" };\nconst _hoisted_66 = { class: \"toggle\" };\nconst _hoisted_67 = { class: \"toggle\" };\nconst _hoisted_68 = { class: \"full\" };\nconst _hoisted_69 = { class: \"toggle\" };\nconst _hoisted_70 = { class: \"full\" };\nconst _hoisted_71 = { class: \"toggle\" };\nconst _hoisted_72 = { class: \"toggle\" };\nconst _hoisted_73 = { class: \"full\" };\nconst _hoisted_74 = { class: \"toggle\" };\nconst _hoisted_75 = { class: \"full\" };\nconst _hoisted_76 = { class: \"row\" };\nconst _hoisted_77 = {\n    key: 1,\n    class: \"panel memory-vault\"\n};\nconst _hoisted_78 = { class: \"row\" };\nconst _hoisted_79 = { class: \"hint\" };\nconst _hoisted_80 = { class: \"row\" };\nconst _hoisted_81 = [\"disabled\"];\nconst _hoisted_82 = [\"disabled\"];\nconst _hoisted_83 = { class: \"hint\" };\nconst _hoisted_84 = {\n    key: 0,\n    class: \"hint\"\n};\nconst _hoisted_85 = { class: \"row\" };\nconst _hoisted_86 = { class: \"hint\" };\nconst _hoisted_87 = { class: \"hint\" };\nconst _hoisted_88 = { class: \"panel quick\" };\nconst _hoisted_89 = [\"disabled\"];\nconst _hoisted_90 = [\"disabled\"];\nconst _hoisted_91 = [\"disabled\"];\nconst _hoisted_92 = { class: \"panel chat\" };\nconst _hoisted_93 = { class: \"messages\" };\nconst _hoisted_94 = [\"disabled\"];\nconst _hoisted_95 = { class: \"row\" };\nconst _hoisted_96 = { class: \"hint\" };\nconst _hoisted_97 = [\"disabled\"];\nconst _hoisted_98 = { class: \"panel npc-panel\" };\nconst _hoisted_99 = { class: \"row\" };\nconst _hoisted_100 = { class: \"hint\" };\nconst _hoisted_101 = { class: \"npc-form\" };\nconst _hoisted_102 = { class: \"toggle\" };\nconst _hoisted_103 = { class: \"npc-columns\" };\nconst _hoisted_104 = [\"onClick\"];\nconst _hoisted_105 = {\n    key: 0,\n    class: \"hint\"\n};\nconst _hoisted_106 = [\"onClick\"];\nconst _hoisted_107 = {\n    key: 0,\n    class: \"hint\"\n};\nconst _hoisted_108 = {\n    key: 5,\n    class: \"system-float\"\n};\nconst _hoisted_109 = {\n    key: 0,\n    class: \"system-notice db-notice\"\n};\nconst _hoisted_110 = { key: 0 };\nconst _hoisted_111 = { key: 1 };\nconst _hoisted_112 = [\"onClick\"];\nconst storageKey = 'th-layer-test-api-settings-v3';\nconst runtimeStorageKey = 'th-layer-test-memory-runtime-v1';\nconst normalOpeningStory = `177828\n\n\n\n\n\n\n......`;\nconst xenoOpeningStory = ` / 177828\\n\\n\\n\\n`;\nconst humanPointsTotal = 5;\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'App',\n    props: {\n        mode: { default: 'standalone' }\n    },\n    setup(__props) {\n        const props = __props;\n        const modeHint = computed(() => (props.mode === 'embedded' ? '' : ''));\n        const inTavern = computed(() => typeof window.SillyTavern !== 'undefined');\n        const rootRef = ref(null);\n        const isFullscreen = ref(false);\n        const started = ref(false);\n        const createDone = ref(false);\n        const createPage = ref(1);\n        const cheatMode = ref(false);\n        const plotMode = ref(true);\n        const xenoRouteMode = ref(false);\n        const xenoRouteRole = ref('');\n        const showSettings = ref(true);\n        const showSummaryCenter = ref(false);\n        const showInventoryPanel = ref(true);\n        const showNpcPanel = ref(true);\n        const pending = ref(false);\n        const dbLock = ref(false);\n        const draft = ref('');\n        const nextId = ref(1);\n        const currentPage = ref(0);\n        const tavernSummary = ref('');\n        const systemNotices = ref([]);\n        const dbTask = reactive({\n            active: false,\n            completed: false,\n            label: '',\n            seconds: 0,\n        });\n        const professionOptions = ['', '', ''];\n        const warmaidTypeOptions = ['', '', '', '', '', ''];\n        const genderOptions = ['', '', '', '', '', ''];\n        const ageLimits = {\n            : { min: 12, max: 18 },\n            : { min: 21, max: 70 },\n            : { min: 14, max: 80 },\n        };\n        const professionDescriptionMap = {\n            : `\n\n\n\n\n1000\n\n\n\n12-18`,\n            : `\n/\n\n:X\n:X\n:1D6\n:1D6\n:X\n:X\n\n\n\t\n11\n`,\n            : `\n\n\n\n\n\n\n`,\n        };\n        const warmaidTypeDescriptionMap = {\n            : `:\n:\n  : 1\n  : 2`,\n            : `\n/\n\n:4D6\n:3D6\n:3D6\n:3D6\n:5D6\n:2D6\n2/\n21`,\n            : `\n/\n\n:4D6\n:4D6\n:3D6\n:5D6\n:4D6\n:3D8\n3\n11`,\n            : `\n/\n\n:4D6\n:6D6\n:5D6\n:6D6\n:3D5\n:4D8\n4\n11`,\n            : `\n//\n\n:4D6\n:10D6\n:7D6\n:10D6\n:1D2\n:7D10\n6\n1`,\n            : `\n/\n\n:4d6\n:5d6\n:4D6\n:10D6\n:1d1\n:4d12\n2\n11`,\n        };\n        const createForm = reactive({\n            name: '',\n            profession: '',\n            warmaidType: '',\n            age: 12,\n            gender: '',\n            background: '',\n        });\n        const backgroundTemplateMap = {\n            : `\n\n`,\n            : `\n\n`,\n            : `\n\n`,\n            : `\n\n`,\n            : `\n\n`,\n        };\n        const backgroundPresetOptions = [\n            { key: '', label: '' },\n            { key: '', label: '' },\n            { key: '', label: '' },\n            { key: '', label: '' },\n            { key: '', label: '' },\n        ];\n        const backgroundPresetKey = ref('');\n        const humanAttrItems = [\n            { key: '', desc: '' },\n            { key: '', desc: '' },\n            { key: '', desc: '' },\n            { key: '', desc: '' },\n            { key: '', desc: '' },\n            { key: '', desc: '' },\n            { key: '', desc: '' },\n        ];\n        const createHumanAttr = reactive({\n            : 1,\n            : 1,\n            : 1,\n            : 1,\n            : 1,\n            : 1,\n            : 1,\n        });\n        const humanPointsLeft = computed(() => humanPointsTotal - Object.values(createHumanAttr).reduce((sum, v) => sum + Number(v || 0), 0) + 7);\n        const currentAgeRange = computed(() => ageLimits[createForm.profession]);\n        const professionDescription = computed(() => professionDescriptionMap[createForm.profession]);\n        const warmaidTypeDescription = computed(() => {\n            if (createForm.warmaidType === '')\n                createForm.warmaidType = '';\n            const key = createForm.warmaidType === ''\n                ? ''\n                : createForm.warmaidType === ''\n                    ? ''\n                    : createForm.warmaidType;\n            return warmaidTypeDescriptionMap[key] ?? '';\n        });\n        const autoBackgroundPresetKey = computed(() => (xenoRouteMode.value ? xenoRouteRole.value : createForm.profession));\n        const currentBackgroundPresetLabel = computed(() => backgroundPresetOptions.find(item => item.key === backgroundPresetKey.value)?.label || '');\n        const backgroundSummary = computed(() => {\n            const raw = (createForm.background || '').replace(/\\s+/g, ' ').trim();\n            if (!raw)\n                return '';\n            return raw.length > 220 ? `${raw.slice(0, 220)}...` : raw;\n        });\n        const getInitialResourceByBuild = () => {\n            if (xenoRouteMode.value) {\n                if (xenoRouteRole.value === '') {\n                    return { hpMax: 130, mpMax: 140, ap: 1 };\n                }\n                return { hpMax: 110, mpMax: 130, ap: 1 };\n            }\n            if (createForm.profession === '') {\n                const apByType = {\n                    : 1,\n                    : 2,\n                    : 1,\n                    : 1,\n                    : 1,\n                    : 1,\n                };\n                return { hpMax: 120, mpMax: 120, ap: apByType[createForm.warmaidType] ?? 1 };\n            }\n            if (createForm.profession === '')\n                return { hpMax: 100, mpMax: 100, ap: 1 };\n            return { hpMax: 100, mpMax: 110, ap: 1 };\n        };\n        const resetPlayerResource = () => {\n            const base = getInitialResourceByBuild();\n            playerResource.hpMax = base.hpMax;\n            playerResource.hp = base.hpMax;\n            playerResource.mpMax = base.mpMax;\n            playerResource.mp = base.mpMax;\n            playerResource.ap = base.ap;\n        };\n        const defaultSettings = {\n            autoFlipPage: true,\n            useTavernPreset: true,\n            baseUrl: 'https://api.openai.com/v1',\n            apiKey: '',\n            model: 'gpt-4.1-mini',\n            systemPrompt: '',\n            autoSummaryEnabled: true,\n            summaryFloorsPerRun: 5,\n            summaryUseCurrentApi: true,\n            autoSummaryPrompt: '/',\n            summaryUseVarApi: false,\n            summaryVarApiUrl: '',\n            summaryVarApiKey: '',\n            summaryVarApiPayload: '{\"scope\":\"layer_memory\",\"need\":[\"world_state\",\"route_state\",\"flags\"]}',\n            megaSummaryEnabled: true,\n            megaSummaryEvery: 5,\n            megaSummaryUseCurrentApi: true,\n            megaSummaryPrompt: '',\n            megaSummaryUseVarApi: false,\n            megaSummaryVarApiUrl: '',\n            megaSummaryVarApiKey: '',\n            megaSummaryVarApiPayload: '{\"scope\":\"mega_memory\",\"need\":[\"global_flags\",\"chapter_progress\"]}',\n        };\n        const settings = reactive({ ...defaultSettings });\n        const modelOptions = ref([]);\n        const modelFetchRunning = ref(false);\n        const memoryVault = ref([]);\n        const megaMemoryVault = ref([]);\n        const onstageNpcs = ref([]);\n        const longtermNpcs = ref([]);\n        const inventoryItems = ref([]);\n        const npcEditor = reactive({\n            name: '',\n            role: '',\n            relation: '',\n            status: '',\n            tags: '',\n            toLongterm: false,\n        });\n        const inventoryEditor = reactive({\n            name: '',\n            count: 1,\n            note: '',\n        });\n        const summaryRunning = ref(false);\n        const summaryLastFloor = ref(0);\n        const hiddenFloorUntil = ref(0);\n        const megaSummaryLastCount = ref(0);\n        const lockHint = computed(() => {\n            if (dbLock.value || summaryRunning.value)\n                return '...';\n            if (pending.value)\n                return 'AI ...';\n            return modeHint.value;\n        });\n        const interactionLocked = computed(() => pending.value || summaryRunning.value || dbLock.value);\n        const injectedContext = inject('streaming_message_context', null);\n        const contextHint = computed(() => {\n            if (!injectedContext)\n                return '';\n            return `\\n\\n[] ID: ${injectedContext.message_id}\\n[]\\n${injectedContext.message ?? ''}`;\n        });\n        const playerBuildHint = computed(() => {\n            const attrs = humanAttrItems.map(item => `${item.key}:${createHumanAttr[item.key]}`).join(' / ');\n            const route = xenoRouteMode.value ? `(${xenoRouteRole.value})` : '';\n            const mode = cheatMode.value ? '' : '';\n            return [\n                `[] =${createForm.name || ''} | =${createForm.gender} | =${createForm.profession} | =${createForm.age}`,\n                `[] =${route} | =${mode}`,\n                `[] =${plotMode.value ? '' : ''} | =${plotMode.value ? '__PLOT_ON__' : '__PLOT_OFF__'}`,\n                `[] =${attrs}`,\n                `[] =${playerResource.hp}/${playerResource.hpMax} ${playerResource.mp}/${playerResource.mpMax} ${playerResource.ap}`,\n                `[] =${createForm.background || ''}`,\n                `[] =${backgroundSummary.value}`,\n                plotMode.value\n                    ? '[] '\n                    : '[] ',\n                xenoRouteMode.value\n                    ? '[] '\n                    : '[] ',\n            ].join('\\n');\n        });\n        const memoryVaultHint = computed(() => {\n            if (!memoryVault.value.length)\n                return '';\n            const lines = memoryVault.value.map(item => `- ${item.floorStart}-${item.floorEnd}: ${item.summary}`);\n            return `[]\\n${lines.join('\\n')}`;\n        });\n        const memoryVaultReversed = computed(() => [...memoryVault.value].reverse());\n        const megaMemoryVaultReversed = computed(() => [...megaMemoryVault.value].reverse());\n        const messages = ref([{ id: nextId.value++, role: 'assistant', content: '' }]);\n        const playerResource = reactive({\n            hp: 100,\n            hpMax: 100,\n            mp: 100,\n            mpMax: 100,\n            ap: 1,\n        });\n        const roleLabel = (role) => (role === 'user' ? '' : role === 'assistant' ? 'AI' : role === 'error' ? '' : '');\n        const pushMessage = (role, content) => messages.value.push({ id: nextId.value++, role, content });\n        const sanitizeAssistantContent = (content) => {\n            const raw = String(content ?? '');\n            const rawTrimmed = raw.trim();\n            const normalizedRaw = raw\n                .replace(/&lt;\\/?think\\b[^&]*&gt;/gim, m => m.replace('&lt;', '<').replace('&gt;', '>'))\n                .replace(/&lt;\\/?thinking\\b[^&]*&gt;/gim, m => m.replace('&lt;', '<').replace('&gt;', '>'))\n                .replace(/&lt;\\/?reasoning\\b[^&]*&gt;/gim, m => m.replace('&lt;', '<').replace('&gt;', '>'))\n                .replace(/&lt;\\/?content&gt;/gim, m => m.replace('&lt;', '<').replace('&gt;', '>'));\n            // If a stray </think> leaks into output, keep only the tail text.\n            const tailAfterThink = normalizedRaw.includes('</think>')\n                ? normalizedRaw.split('</think>').pop() ?? normalizedRaw\n                : normalizedRaw;\n            const contentMatch = tailAfterThink.match(/<content>([\\s\\S]*?)<\\/content>/im);\n            const source = contentMatch?.[1] ?? tailAfterThink;\n            const cleaned = source\n                .replace(/<think[\\s\\S]*?<\\/think>/gim, '')\n                .replace(/<Thought[\\s\\S]*?<\\/Thought>/gim, '')\n                .replace(/<thinking[\\s\\S]*?<\\/thinking>/gim, '')\n                .replace(/<reasoning[\\s\\S]*?<\\/reasoning>/gim, '')\n                .replace(/```(?:think|thinking|reasoning|cot)[\\s\\S]*?```/gim, '')\n                .replace(/<(think|Thought|thinking|reasoning)\\b[^>]*>[\\s\\S]*$/gim, '')\n                .replace(/<\\/?content>/gim, '')\n                .trim();\n            const cleanedFallback = tailAfterThink\n                .replace(/<\\/?content>/gim, '')\n                .replace(/<(think|Thought|thinking|reasoning)\\b[^>]*>/gim, '')\n                .trim();\n            if (cleaned)\n                return cleaned;\n            if (cleanedFallback)\n                return cleanedFallback;\n            if (/<(think|Thought|thinking|reasoning)\\b|```(?:think|thinking|reasoning|cot)/i.test(raw))\n                return '';\n            return rawTrimmed;\n        };\n        const displayContent = (item) => (item.role === 'assistant' ? sanitizeAssistantContent(item.content) : item.content);\n        const dismissNotice = (id) => {\n            systemNotices.value = systemNotices.value.filter(n => n.id !== id);\n        };\n        const pushSystemNotice = (content) => {\n            const id = Date.now() + Math.floor(Math.random() * 10000);\n            systemNotices.value.unshift({ id, content });\n            systemNotices.value = systemNotices.value.slice(0, 4);\n            toastr.info(content, '');\n            setTimeout(() => dismissNotice(id), 12000);\n        };\n        let dbTickTimer = null;\n        const startDbTask = (label) => {\n            dbTask.active = true;\n            dbTask.completed = false;\n            dbTask.label = label;\n            dbTask.seconds = 0;\n            dbLock.value = true;\n            if (dbTickTimer)\n                clearInterval(dbTickTimer);\n            dbTickTimer = setInterval(() => {\n                dbTask.seconds += 1;\n            }, 1000);\n        };\n        const finishDbTask = () => {\n            if (dbTickTimer) {\n                clearInterval(dbTickTimer);\n                dbTickTimer = null;\n            }\n            dbTask.completed = true;\n            dbLock.value = false;\n            setTimeout(() => {\n                dbTask.active = false;\n                dbTask.completed = false;\n                dbTask.label = '';\n                dbTask.seconds = 0;\n            }, 1500);\n        };\n        const pageRanges = computed(() => {\n            const starts = [0];\n            for (let i = 1; i < messages.value.length; i++) {\n                if (messages.value[i]?.role === 'user')\n                    starts.push(i);\n            }\n            return starts.map((start, idx) => ({ start, end: starts[idx + 1] ?? messages.value.length }));\n        });\n        const visibleMessages = computed(() => {\n            const page = pageRanges.value[currentPage.value];\n            const source = page ? messages.value.slice(page.start, page.end) : messages.value;\n            return source.filter(item => item.role !== 'system');\n        });\n        watch(() => messages.value.length, () => {\n            if (pageRanges.value.length && settings.autoFlipPage)\n                currentPage.value = pageRanges.value.length - 1;\n        });\n        watch(() => createForm.profession, profession => {\n            const range = ageLimits[profession];\n            if (!cheatMode.value) {\n                if (createForm.age < range.min)\n                    createForm.age = range.min;\n                if (createForm.age > range.max)\n                    createForm.age = range.max;\n            }\n            if (profession === '')\n                createForm.gender = '';\n        }, { immediate: true });\n        watch(() => xenoRouteRole.value, () => {\n            if (!xenoRouteMode.value)\n                return;\n            if (xenoRouteRole.value === '') {\n                createForm.profession = '';\n                createForm.gender = '';\n                if (!cheatMode.value) {\n                    if (createForm.age < 12)\n                        createForm.age = 12;\n                    if (createForm.age > 18)\n                        createForm.age = 18;\n                }\n                return;\n            }\n            createForm.profession = '';\n            if (!cheatMode.value) {\n                if (createForm.age < 21)\n                    createForm.age = 21;\n                if (createForm.age > 70)\n                    createForm.age = 70;\n            }\n        });\n        watch(() => autoBackgroundPresetKey.value, key => {\n            backgroundPresetKey.value = key;\n        }, { immediate: true });\n        watch(() => createForm.background, value => {\n            if ((value || '').length > 1000)\n                createForm.background = value.slice(0, 1000);\n        });\n        watch(settings, () => {\n            localStorage.setItem(storageKey, JSON.stringify({ ...settings }));\n        }, { deep: true });\n        watch([\n            memoryVault,\n            megaMemoryVault,\n            onstageNpcs,\n            longtermNpcs,\n            inventoryItems,\n            () => ({ ...playerResource }),\n            summaryLastFloor,\n            hiddenFloorUntil,\n            megaSummaryLastCount,\n        ], () => {\n            saveRuntimeState();\n        }, { deep: true });\n        const saveSettings = () => {\n            localStorage.setItem(storageKey, JSON.stringify({ ...settings }));\n            pushSystemNotice('');\n        };\n        const saveRuntimeState = () => {\n            localStorage.setItem(runtimeStorageKey, JSON.stringify({\n                memoryVault: memoryVault.value,\n                megaMemoryVault: megaMemoryVault.value,\n                onstageNpcs: onstageNpcs.value,\n                longtermNpcs: longtermNpcs.value,\n                inventoryItems: inventoryItems.value,\n                playerResource: { ...playerResource },\n                summaryLastFloor: summaryLastFloor.value,\n                hiddenFloorUntil: hiddenFloorUntil.value,\n                megaSummaryLastCount: megaSummaryLastCount.value,\n            }));\n        };\n        const loadSettings = () => {\n            const raw = localStorage.getItem(storageKey);\n            if (!raw)\n                return;\n            try {\n                Object.assign(settings, defaultSettings, JSON.parse(raw) ?? {});\n            }\n            catch {\n                Object.assign(settings, defaultSettings);\n            }\n        };\n        const loadRuntimeState = () => {\n            const raw = localStorage.getItem(runtimeStorageKey);\n            if (!raw)\n                return;\n            try {\n                const parsed = JSON.parse(raw) ?? {};\n                memoryVault.value = Array.isArray(parsed.memoryVault) ? parsed.memoryVault : [];\n                megaMemoryVault.value = Array.isArray(parsed.megaMemoryVault) ? parsed.megaMemoryVault : [];\n                onstageNpcs.value = Array.isArray(parsed.onstageNpcs) ? parsed.onstageNpcs : [];\n                longtermNpcs.value = Array.isArray(parsed.longtermNpcs) ? parsed.longtermNpcs : [];\n                inventoryItems.value = Array.isArray(parsed.inventoryItems) ? parsed.inventoryItems : [];\n                Object.assign(playerResource, parsed.playerResource ?? {});\n                playerResource.hpMax = Math.max(1, Number(playerResource.hpMax) || 100);\n                playerResource.mpMax = Math.max(1, Number(playerResource.mpMax) || 100);\n                playerResource.hp = Math.max(0, Math.min(playerResource.hpMax, Number(playerResource.hp) || playerResource.hpMax));\n                playerResource.mp = Math.max(0, Math.min(playerResource.mpMax, Number(playerResource.mp) || playerResource.mpMax));\n                playerResource.ap = Math.max(0, Math.min(9, Number(playerResource.ap) || 1));\n                summaryLastFloor.value = Number(parsed.summaryLastFloor) || 0;\n                hiddenFloorUntil.value = Number(parsed.hiddenFloorUntil) || 0;\n                megaSummaryLastCount.value = Number(parsed.megaSummaryLastCount) || 0;\n            }\n            catch {\n                memoryVault.value = [];\n                megaMemoryVault.value = [];\n                onstageNpcs.value = [];\n                longtermNpcs.value = [];\n                inventoryItems.value = [];\n                resetPlayerResource();\n                summaryLastFloor.value = 0;\n                hiddenFloorUntil.value = 0;\n                megaSummaryLastCount.value = 0;\n            }\n        };\n        const resetSession = () => {\n            messages.value = [{ id: 1, role: 'assistant', content: '' }];\n            nextId.value = 2;\n            currentPage.value = 0;\n            memoryVault.value = [];\n            megaMemoryVault.value = [];\n            onstageNpcs.value = [];\n            longtermNpcs.value = [];\n            inventoryItems.value = [];\n            resetPlayerResource();\n            summaryLastFloor.value = 0;\n            hiddenFloorUntil.value = 0;\n            megaSummaryLastCount.value = 0;\n            saveRuntimeState();\n        };\n        const pickString = (source, keys) => {\n            for (const key of keys) {\n                const value = source?.[key];\n                if (typeof value === 'string' && value.trim())\n                    return value.trim();\n            }\n            return '';\n        };\n        const pullFromTavern = () => {\n            if (!inTavern.value) {\n                tavernSummary.value = '';\n                pushMessage('error', '');\n                return;\n            }\n            try {\n                const st = window.SillyTavern;\n                const presetName = typeof getLoadedPresetName === 'function' ? getLoadedPresetName() : '';\n                const preset = typeof getPreset === 'function' ? getPreset('in_use') : null;\n                const chatConfig = st?.chatCompletionSettings ?? {};\n                settings.model = (typeof st?.getChatCompletionModel === 'function' ? st.getChatCompletionModel() : '') || settings.model;\n                settings.baseUrl = pickString(chatConfig, ['api_url', 'apiUrl', 'reverse_proxy', 'proxy_url', 'custom_url']) || settings.baseUrl;\n                settings.apiKey = pickString(chatConfig, ['api_key', 'apiKey', 'reverse_proxy_password']) || settings.apiKey;\n                settings.useTavernPreset = true;\n                if (preset?.settings?.should_stream === false) {\n                    pushSystemNotice('');\n                }\n                tavernSummary.value = presetName ? `: ${presetName}` : '';\n                pushSystemNotice(`${presetName ? `: ${presetName}` : ''}`);\n                saveSettings();\n            }\n            catch (error) {\n                tavernSummary.value = '';\n                pushMessage('error', `: ${error?.message ?? String(error)}`);\n            }\n        };\n        const buildApiUrl = (baseUrl) => {\n            const cleaned = baseUrl.trim().replace(/\\/+$/, '');\n            return cleaned.endsWith('/chat/completions') ? cleaned : `${cleaned}/chat/completions`;\n        };\n        const buildModelsUrl = (baseUrl) => {\n            const cleaned = baseUrl.trim().replace(/\\/+$/, '');\n            if (!cleaned)\n                return '';\n            if (/\\/chat\\/completions$/i.test(cleaned))\n                return cleaned.replace(/\\/chat\\/completions$/i, '/models');\n            if (/\\/models$/i.test(cleaned))\n                return cleaned;\n            return `${cleaned}/models`;\n        };\n        const extractModelIds = (payload) => {\n            const rawList = Array.isArray(payload)\n                ? payload\n                : Array.isArray(payload?.data)\n                    ? payload.data\n                    : Array.isArray(payload?.models)\n                        ? payload.models\n                        : [];\n            const ids = rawList\n                .map((item) => {\n                if (typeof item === 'string')\n                    return item.trim();\n                if (item && typeof item.id === 'string')\n                    return item.id.trim();\n                if (item && typeof item.name === 'string')\n                    return item.name.trim();\n                return '';\n            })\n                .filter(Boolean);\n            return Array.from(new Set(ids)).sort((a, b) => a.localeCompare(b, 'zh-Hans-CN'));\n        };\n        const fetchModelOptions = async () => {\n            const url = buildModelsUrl(settings.baseUrl);\n            if (!url) {\n                pushSystemNotice(' Base URL');\n                return;\n            }\n            modelFetchRunning.value = true;\n            try {\n                const headers = {};\n                if (settings.apiKey?.trim())\n                    headers.Authorization = `Bearer ${settings.apiKey.trim()}`;\n                const response = await fetch(url, { method: 'GET', headers });\n                if (!response.ok)\n                    throw new Error(`HTTP ${response.status}`);\n                const data = await response.json();\n                const ids = extractModelIds(data);\n                if (!ids.length)\n                    throw new Error('');\n                modelOptions.value = ids;\n                if (!settings.model || !ids.includes(settings.model))\n                    settings.model = ids[0];\n                pushSystemNotice(` ${ids.length} `);\n                saveSettings();\n            }\n            catch (error) {\n                pushMessage('error', `: ${error?.message ?? String(error)}`);\n            }\n            finally {\n                modelFetchRunning.value = false;\n            }\n        };\n        const buildPayloadMessages = () => {\n            const payload = [];\n            const systemBlocks = [settings.systemPrompt, playerBuildHint.value];\n            if (memoryVaultHint.value)\n                systemBlocks.push(memoryVaultHint.value);\n            if (contextHint.value)\n                systemBlocks.push(contextHint.value);\n            if (hiddenFloorUntil.value > 0) {\n                systemBlocks.push(`[]  1-${hiddenFloorUntil.value}`);\n            }\n            payload.push({ role: 'system', content: systemBlocks.filter(Boolean).join('\\n\\n') });\n            for (const [idx, range] of pageRanges.value.entries()) {\n                if (idx > 0 && idx <= hiddenFloorUntil.value)\n                    continue;\n                const slice = messages.value.slice(range.start, range.end);\n                for (const item of slice) {\n                    if (item.role === 'user' || item.role === 'assistant')\n                        payload.push({ role: item.role, content: item.content });\n                }\n            }\n            return payload;\n        };\n        const extractAssistantText = (raw) => {\n            const text = sanitizeAssistantContent(raw).trim();\n            return text || '[]';\n        };\n        const buildFloorTranscript = (floorStart, floorEnd) => {\n            const lines = [];\n            for (let floor = floorStart; floor <= floorEnd; floor++) {\n                const range = pageRanges.value[floor];\n                if (!range)\n                    continue;\n                const slice = messages.value.slice(range.start, range.end);\n                lines.push(`###  ${floor}`);\n                for (const item of slice) {\n                    if (item.role === 'user')\n                        lines.push(`: ${item.content}`);\n                    if (item.role === 'assistant')\n                        lines.push(`AI: ${extractAssistantText(item.content)}`);\n                }\n            }\n            return lines.join('\\n');\n        };\n        const fetchExtraVariablesByConfig = async (options) => {\n            if (!options.useVarApi || !options.url.trim())\n                return '';\n            const headers = { 'Content-Type': 'application/json' };\n            if (options.key.trim())\n                headers.Authorization = `Bearer ${options.key.trim()}`;\n            const bodyText = options.payload.trim();\n            const method = bodyText ? 'POST' : 'GET';\n            const response = await fetch(options.url.trim(), {\n                method,\n                headers,\n                body: method === 'POST' ? bodyText : undefined,\n            });\n            if (!response.ok)\n                throw new Error(`API: HTTP ${response.status}`);\n            const text = await response.text();\n            return text.length > 5000 ? `${text.slice(0, 5000)}\\n...()` : text;\n        };\n        const requestTextByManualApi = async (userPrompt) => {\n            if (!settings.baseUrl || !settings.model)\n                throw new Error(' Base URL  Model');\n            const headers = { 'Content-Type': 'application/json' };\n            if (settings.apiKey)\n                headers.Authorization = `Bearer ${settings.apiKey}`;\n            const response = await fetch(buildApiUrl(settings.baseUrl), {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({\n                    model: settings.model,\n                    stream: false,\n                    messages: [\n                        { role: 'system', content: '' },\n                        { role: 'user', content: userPrompt },\n                    ],\n                }),\n            });\n            if (!response.ok)\n                throw new Error(`: HTTP ${response.status}`);\n            const data = await response.json();\n            return String(data?.choices?.[0]?.message?.content ?? '').trim();\n        };\n        const requestSummaryText = async (userPrompt, useCurrentApi) => {\n            if (useCurrentApi && inTavern.value && settings.useTavernPreset) {\n                const text = await generate({ user_input: userPrompt, should_stream: false, should_silence: true });\n                if (String(text ?? '').trim())\n                    return String(text).trim();\n            }\n            return requestTextByManualApi(userPrompt);\n        };\n        const maybeRunMegaSummary = async (force = false) => {\n            if (!settings.megaSummaryEnabled)\n                return;\n            const threshold = Math.max(1, Math.trunc(Number(settings.megaSummaryEvery) || 5));\n            const pending = memoryVault.value.length - megaSummaryLastCount.value;\n            if (!force && pending < threshold)\n                return;\n            if (pending <= 0 || !memoryVault.value.length)\n                return;\n            let extraVars = '';\n            try {\n                extraVars = await fetchExtraVariablesByConfig({\n                    useVarApi: settings.megaSummaryUseVarApi,\n                    url: settings.megaSummaryVarApiUrl,\n                    key: settings.megaSummaryVarApiKey,\n                    payload: settings.megaSummaryVarApiPayload,\n                });\n            }\n            catch (error) {\n                pushSystemNotice(`API${error?.message ?? String(error)}`);\n            }\n            const allSummaryText = memoryVault.value\n                .map(item => `${item.floorStart}-${item.floorEnd}\\n${item.summary}`)\n                .join('\\n\\n');\n            const megaPrompt = [\n                settings.megaSummaryPrompt,\n                `[]  ${threshold} : ${memoryVault.value.length}`,\n                '[]',\n                allSummaryText,\n                extraVars ? `[API]\\n${extraVars}` : '',\n                '[] ///',\n            ]\n                .filter(Boolean)\n                .join('\\n\\n');\n            const text = await requestSummaryText(megaPrompt, Boolean(settings.megaSummaryUseCurrentApi));\n            const first = memoryVault.value[0];\n            const last = memoryVault.value[memoryVault.value.length - 1];\n            megaMemoryVault.value.push({\n                id: Date.now() + Math.floor(Math.random() * 10000),\n                floorStart: first?.floorStart ?? 1,\n                floorEnd: last?.floorEnd ?? hiddenFloorUntil.value,\n                summary: text || '',\n                createdAt: Date.now(),\n                extraVarNote: extraVars ? 'API' : 'API',\n            });\n            megaSummaryLastCount.value = memoryVault.value.length;\n            pushSystemNotice('');\n        };\n        const runAutoSummaryForBlock = async (floorStart, floorEnd) => {\n            const transcript = buildFloorTranscript(floorStart, floorEnd).trim();\n            if (!transcript)\n                return;\n            let extraVars = '';\n            try {\n                extraVars = await fetchExtraVariablesByConfig({\n                    useVarApi: settings.summaryUseVarApi,\n                    url: settings.summaryVarApiUrl,\n                    key: settings.summaryVarApiKey,\n                    payload: settings.summaryVarApiPayload,\n                });\n            }\n            catch (error) {\n                pushSystemNotice(`API${error?.message ?? String(error)}`);\n            }\n            const summaryPrompt = [\n                settings.autoSummaryPrompt,\n                `[]  ${floorStart}-${floorEnd}`,\n                '[]',\n                playerBuildHint.value,\n                extraVars ? `[API]\\n${extraVars}` : '',\n                '[]',\n                transcript,\n                '[] ',\n            ]\n                .filter(Boolean)\n                .join('\\n\\n');\n            const summaryText = await requestSummaryText(summaryPrompt, Boolean(settings.summaryUseCurrentApi));\n            const summary = summaryText || '';\n            memoryVault.value.push({\n                id: Date.now() + Math.floor(Math.random() * 10000),\n                floorStart,\n                floorEnd,\n                summary,\n                createdAt: Date.now(),\n                extraVarNote: extraVars ? 'API' : 'API',\n            });\n            hiddenFloorUntil.value = floorEnd;\n            summaryLastFloor.value = floorEnd;\n            pushSystemNotice(` ${floorStart}-${floorEnd} `);\n            await maybeRunMegaSummary(false);\n        };\n        const maybeRunAutoSummary = async () => {\n            if (!settings.autoSummaryEnabled || summaryRunning.value)\n                return;\n            const floorsPerRun = Math.max(1, Math.trunc(Number(settings.summaryFloorsPerRun) || 5));\n            const playableFloors = Math.max(0, pageRanges.value.length - 1);\n            if (playableFloors < floorsPerRun)\n                return;\n            const nextTarget = Math.floor(playableFloors / floorsPerRun) * floorsPerRun;\n            if (nextTarget <= summaryLastFloor.value)\n                return;\n            summaryRunning.value = true;\n            startDbTask(` ${nextTarget}`);\n            try {\n                for (let start = summaryLastFloor.value + 1; start <= nextTarget; start += floorsPerRun) {\n                    const end = Math.min(start + floorsPerRun - 1, nextTarget);\n                    await runAutoSummaryForBlock(start, end);\n                }\n            }\n            catch (error) {\n                pushMessage('error', `: ${error?.message ?? String(error)}`);\n            }\n            finally {\n                summaryRunning.value = false;\n                finishDbTask();\n            }\n        };\n        const parseSseAndWrite = async (response, onDelta) => {\n            const reader = response.body?.getReader();\n            if (!reader)\n                return false;\n            const decoder = new TextDecoder();\n            let buffer = '';\n            while (true) {\n                const { value, done } = await reader.read();\n                if (done)\n                    break;\n                buffer += decoder.decode(value, { stream: true });\n                const lines = buffer.split(/\\r?\\n/);\n                buffer = lines.pop() ?? '';\n                for (const line of lines) {\n                    const trimmed = line.trim();\n                    if (!trimmed.startsWith('data:'))\n                        continue;\n                    const data = trimmed.slice(5).trim();\n                    if (data === '[DONE]')\n                        return true;\n                    try {\n                        const parsed = JSON.parse(data);\n                        const delta = parsed?.choices?.[0]?.delta?.content;\n                        if (typeof delta === 'string' && delta)\n                            onDelta(delta);\n                    }\n                    catch {\n                        // ignore malformed stream lines\n                    }\n                }\n            }\n            return true;\n        };\n        const requestWithTavernPreset = async () => {\n            const answer = { id: nextId.value++, role: 'assistant', content: '' };\n            messages.value.push(answer);\n            const lastUser = [...messages.value].reverse().find(item => item.role === 'user');\n            const text = await generate({ user_input: lastUser?.content ?? '', should_stream: true, should_silence: true });\n            answer.content = sanitizeAssistantContent(text || '[]');\n        };\n        const requestWithManualApi = async () => {\n            if (!settings.baseUrl || !settings.model) {\n                pushMessage('error', ' Base URL  Model');\n                return;\n            }\n            const answer = { id: nextId.value++, role: 'assistant', content: '' };\n            messages.value.push(answer);\n            const headers = { 'Content-Type': 'application/json' };\n            if (settings.apiKey)\n                headers.Authorization = `Bearer ${settings.apiKey}`;\n            const response = await fetch(buildApiUrl(settings.baseUrl), {\n                method: 'POST',\n                headers,\n                body: JSON.stringify({ model: settings.model, messages: buildPayloadMessages(), stream: true }),\n            });\n            if (!response.ok)\n                throw new Error(`HTTP ${response.status}: ${(await response.text()).slice(0, 400)}`);\n            const streamed = await parseSseAndWrite(response, text => (answer.content += text));\n            if (!streamed) {\n                const data = await response.json();\n                answer.content = data?.choices?.[0]?.message?.content ?? '[]';\n            }\n            answer.content = sanitizeAssistantContent(answer.content);\n            if (!answer.content.trim())\n                answer.content = '[]';\n        };\n        const requestAi = async () => {\n            pending.value = true;\n            try {\n                if (inTavern.value && settings.useTavernPreset)\n                    await requestWithTavernPreset();\n                else\n                    await requestWithManualApi();\n                await maybeRunAutoSummary();\n            }\n            catch (error) {\n                pushMessage('error', `: ${error?.message ?? String(error)}`);\n            }\n            finally {\n                pending.value = false;\n            }\n        };\n        const sendUserInput = async () => {\n            const text = draft.value.trim();\n            if (!text || interactionLocked.value)\n                return;\n            pushMessage('user', text);\n            draft.value = '';\n            await requestAi();\n        };\n        const sendQuick = async (text) => {\n            if (interactionLocked.value)\n                return;\n            pushMessage('user', text);\n            await requestAi();\n        };\n        const formatTs = (ts) => new Date(ts).toLocaleString();\n        const clearMemoryVault = () => {\n            memoryVault.value = [];\n            megaMemoryVault.value = [];\n            summaryLastFloor.value = 0;\n            hiddenFloorUntil.value = 0;\n            megaSummaryLastCount.value = 0;\n            pushSystemNotice('');\n        };\n        const runManualSummary = async () => {\n            if (summaryRunning.value)\n                return;\n            const playableFloors = Math.max(0, pageRanges.value.length - 1);\n            if (playableFloors <= summaryLastFloor.value) {\n                pushSystemNotice('');\n                return;\n            }\n            const start = summaryLastFloor.value + 1;\n            const end = playableFloors;\n            summaryRunning.value = true;\n            startDbTask(` ${start}-${end}`);\n            try {\n                await runAutoSummaryForBlock(start, end);\n            }\n            catch (error) {\n                pushMessage('error', `: ${error?.message ?? String(error)}`);\n            }\n            finally {\n                summaryRunning.value = false;\n                finishDbTask();\n            }\n        };\n        const runManualMegaSummary = async () => {\n            if (summaryRunning.value)\n                return;\n            if (!settings.megaSummaryEnabled) {\n                pushSystemNotice('');\n                return;\n            }\n            summaryRunning.value = true;\n            startDbTask('');\n            try {\n                await maybeRunMegaSummary(true);\n            }\n            catch (error) {\n                pushMessage('error', `: ${error?.message ?? String(error)}`);\n            }\n            finally {\n                summaryRunning.value = false;\n                finishDbTask();\n            }\n        };\n        const addNpc = () => {\n            const name = npcEditor.name.trim();\n            if (!name) {\n                pushSystemNotice('NPC');\n                return;\n            }\n            const target = npcEditor.toLongterm ? longtermNpcs.value : onstageNpcs.value;\n            const exist = target.find(n => n.name === name);\n            const next = {\n                id: Date.now() + Math.floor(Math.random() * 10000),\n                name,\n                role: npcEditor.role.trim() || '',\n                relation: npcEditor.relation.trim() || '',\n                status: npcEditor.status.trim() || '',\n                tags: npcEditor.tags.trim() || '',\n            };\n            if (exist)\n                Object.assign(exist, next, { id: exist.id });\n            else\n                target.push(next);\n            npcEditor.name = '';\n            npcEditor.role = '';\n            npcEditor.relation = '';\n            npcEditor.status = '';\n            npcEditor.tags = '';\n            pushSystemNotice(`${npcEditor.toLongterm ? 'NPC' : ''}`);\n        };\n        const removeNpc = (id, type) => {\n            if (type === 'onstage')\n                onstageNpcs.value = onstageNpcs.value.filter(n => n.id !== id);\n            else\n                longtermNpcs.value = longtermNpcs.value.filter(n => n.id !== id);\n        };\n        const addInventoryItem = () => {\n            if (!cheatMode.value) {\n                pushSystemNotice('');\n                return;\n            }\n            const name = inventoryEditor.name.trim();\n            if (!name) {\n                pushSystemNotice('');\n                return;\n            }\n            const count = Math.max(1, Math.trunc(Number(inventoryEditor.count) || 1));\n            const note = inventoryEditor.note.trim();\n            const exist = inventoryItems.value.find(item => item.name === name);\n            if (exist) {\n                exist.count = count;\n                exist.note = note || exist.note || '';\n            }\n            else {\n                inventoryItems.value.push({\n                    id: Date.now() + Math.floor(Math.random() * 10000),\n                    name,\n                    count,\n                    note: note || '',\n                });\n            }\n            inventoryEditor.name = '';\n            inventoryEditor.count = 1;\n            inventoryEditor.note = '';\n            pushSystemNotice('');\n        };\n        const removeInventoryItem = (id) => {\n            if (!cheatMode.value) {\n                pushSystemNotice('');\n                return;\n            }\n            inventoryItems.value = inventoryItems.value.filter(item => item.id !== id);\n        };\n        const startSession = () => {\n            started.value = true;\n            createDone.value = false;\n            createPage.value = 1;\n            createForm.background = '';\n            backgroundPresetKey.value = autoBackgroundPresetKey.value;\n            pushSystemNotice('');\n        };\n        const startNormalRoute = () => {\n            xenoRouteMode.value = false;\n            startSession();\n        };\n        const startXenoRoute = () => {\n            xenoRouteMode.value = true;\n            if (xenoRouteRole.value === '') {\n                createForm.profession = '';\n                createForm.gender = '';\n            }\n            else {\n                createForm.profession = '';\n            }\n            startSession();\n        };\n        const goCreatePageTwo = () => {\n            if (!createForm.name.trim()) {\n                pushSystemNotice('');\n                return;\n            }\n            const range = ageLimits[createForm.profession];\n            if (!Number.isFinite(createForm.age)) {\n                pushSystemNotice('');\n                return;\n            }\n            if (!cheatMode.value && (createForm.age < range.min || createForm.age > range.max)) {\n                pushSystemNotice(`${createForm.profession}${range.min}-${range.max}`);\n                return;\n            }\n            if (createForm.profession === '')\n                createForm.gender = '';\n            createPage.value = 2;\n        };\n        const goCreatePageThree = () => {\n            if (!cheatMode.value && humanPointsLeft.value !== 0) {\n                pushSystemNotice(` ${humanPointsLeft.value} `);\n                return;\n            }\n            createPage.value = 3;\n        };\n        const applyBackgroundPreset = () => {\n            const text = backgroundTemplateMap[backgroundPresetKey.value] ?? '';\n            if (!text) {\n                pushSystemNotice('');\n                return;\n            }\n            createForm.background = text.slice(0, 1000);\n            pushSystemNotice('');\n        };\n        const incHumanAttr = (key) => {\n            if (humanPointsLeft.value <= 0)\n                return;\n            if (createHumanAttr[key] >= 5)\n                return;\n            createHumanAttr[key] += 1;\n        };\n        const decHumanAttr = (key) => {\n            if (createHumanAttr[key] <= 1)\n                return;\n            createHumanAttr[key] -= 1;\n        };\n        const finishCreate = () => {\n            if (createPage.value !== 3) {\n                pushSystemNotice('3');\n                return;\n            }\n            if (!cheatMode.value && humanPointsLeft.value !== 0) {\n                pushSystemNotice(` ${humanPointsLeft.value} `);\n                return;\n            }\n            if ((createForm.background || '').length > 1000) {\n                pushSystemNotice('1000');\n                return;\n            }\n            createDone.value = true;\n            messages.value = [\n                {\n                    id: 1,\n                    role: 'assistant',\n                    content: xenoRouteMode.value ? xenoOpeningStory : normalOpeningStory,\n                },\n            ];\n            nextId.value = 2;\n            currentPage.value = 0;\n            memoryVault.value = [];\n            megaMemoryVault.value = [];\n            onstageNpcs.value = [];\n            longtermNpcs.value = [];\n            inventoryItems.value = [];\n            resetPlayerResource();\n            summaryLastFloor.value = 0;\n            hiddenFloorUntil.value = 0;\n            megaSummaryLastCount.value = 0;\n            pushSystemNotice(`${createForm.name} / ${createForm.profession} / ${createForm.age} / ${createForm.gender} / ${xenoRouteMode.value ? '' : ''} / ${plotMode.value ? '' : ''} / ${createForm.background.length}`);\n        };\n        const fullscreenTarget = () => (rootRef.value ?? document.documentElement);\n        const getFullscreenElement = () => document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement;\n        const enterFullscreen = async () => {\n            const target = fullscreenTarget();\n            const fn = target.requestFullscreen ||\n                target.webkitRequestFullscreen ||\n                target.mozRequestFullScreen ||\n                target.msRequestFullscreen;\n            if (typeof fn === 'function')\n                await fn.call(target);\n        };\n        const exitFullscreen = async () => {\n            const doc = document;\n            const fn = doc.exitFullscreen || doc.webkitExitFullscreen || doc.mozCancelFullScreen || doc.msExitFullscreen;\n            if (typeof fn === 'function')\n                await fn.call(doc);\n        };\n        const syncFullscreenState = () => {\n            isFullscreen.value = Boolean(getFullscreenElement());\n        };\n        const toggleFullscreen = async () => {\n            try {\n                if (getFullscreenElement())\n                    await exitFullscreen();\n                else\n                    await enterFullscreen();\n                syncFullscreenState();\n            }\n            catch (error) {\n                pushSystemNotice(`: ${error?.message ?? String(error)}`);\n            }\n        };\n        onMounted(() => {\n            loadSettings();\n            loadRuntimeState();\n            if (inTavern.value)\n                pullFromTavern();\n            if (props.mode === 'embedded')\n                showSettings.value = false;\n            ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'].forEach(eventName => {\n                document.addEventListener(eventName, syncFullscreenState);\n            });\n        });\n        onUnmounted(() => {\n            if (dbTickTimer) {\n                clearInterval(dbTickTimer);\n                dbTickTimer = null;\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"main\", {\n                ref_key: \"rootRef\",\n                ref: rootRef,\n                class: \"shell\",\n                onClick: _cache[55] || (_cache[55] = _withModifiers(() => { }, [\"stop\"]))\n            }, [\n                (!_unref(started))\n                    ? (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n                        _cache[61] || (_cache[61] = _createElementVNode(\"div\", { class: \"start-screen__veil\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"div\", _hoisted_2, [\n                            _cache[56] || (_cache[56] = _createElementVNode(\"p\", { class: \"start-card__kicker\" }, \"LIBRARY NODE / LAYER SESSION\", -1 /* CACHED */)),\n                            _cache[57] || (_cache[57] = _createElementVNode(\"h2\", null, \"\", -1 /* CACHED */)),\n                            _cache[58] || (_cache[58] = _createElementVNode(\"p\", { class: \"start-card__author\" }, \"\", -1 /* CACHED */)),\n                            _cache[59] || (_cache[59] = _createElementVNode(\"p\", { class: \"start-card__desc\" }, \"AI\", -1 /* CACHED */)),\n                            _cache[60] || (_cache[60] = _createElementVNode(\"p\", { class: \"start-card__quote\" }, \"[]\", -1 /* CACHED */)),\n                            _createElementVNode(\"p\", _hoisted_3, \"\" + _toDisplayString(_unref(xenoRouteMode) ? `${_unref(xenoRouteRole)}` : ''), 1 /* TEXT */),\n                            _createElementVNode(\"p\", _hoisted_4, \"\" + _toDisplayString(_unref(cheatMode) ? '' : ''), 1 /* TEXT */),\n                            _createElementVNode(\"p\", _hoisted_5, \"\" + _toDisplayString(_unref(plotMode) ? '' : ''), 1 /* TEXT */),\n                            _createElementVNode(\"div\", _hoisted_6, [\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    onClick: startNormalRoute\n                                }, \"\"),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"xeno\",\n                                    onClick: startXenoRoute\n                                }, _toDisplayString(_unref(xenoRouteMode) ? '' : ''), 1 /* TEXT */),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"ghost\",\n                                    onClick: _cache[0] || (_cache[0] = ($event) => (plotMode.value = !_unref(plotMode)))\n                                }, _toDisplayString(_unref(plotMode) ? '' : ''), 1 /* TEXT */),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"ghost\",\n                                    onClick: _cache[1] || (_cache[1] = ($event) => (cheatMode.value = !_unref(cheatMode)))\n                                }, _toDisplayString(_unref(cheatMode) ? '' : ''), 1 /* TEXT */),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"ghost\",\n                                    onClick: pullFromTavern\n                                }, \"\")\n                            ])\n                        ])\n                    ]))\n                    : (!_unref(createDone) && _unref(createPage) === 1)\n                        ? (_openBlock(), _createElementBlock(\"section\", _hoisted_7, [\n                            _cache[72] || (_cache[72] = _createElementVNode(\"h2\", null, \" - 1\", -1 /* CACHED */)),\n                            _createElementVNode(\"label\", null, [\n                                _cache[62] || (_cache[62] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"input\", {\n                                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((_unref(createForm).name) = $event)),\n                                    placeholder: \"\"\n                                }, null, 512 /* NEED_PATCH */), [\n                                    [\n                                        _vModelText,\n                                        _unref(createForm).name,\n                                        void 0,\n                                        { trim: true }\n                                    ]\n                                ])\n                            ]),\n                            _createElementVNode(\"label\", null, [\n                                _cache[63] || (_cache[63] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"select\", {\n                                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((_unref(createForm).profession) = $event)),\n                                    disabled: _unref(xenoRouteMode)\n                                }, [\n                                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(professionOptions, (item) => {\n                                        return _createElementVNode(\"option\", {\n                                            key: item,\n                                            value: item\n                                        }, _toDisplayString(item), 9 /* TEXT, PROPS */, _hoisted_9);\n                                    }), 64 /* STABLE_FRAGMENT */))\n                                ], 8 /* PROPS */, _hoisted_8), [\n                                    [_vModelSelect, _unref(createForm).profession]\n                                ])\n                            ]),\n                            (_unref(xenoRouteMode))\n                                ? (_openBlock(), _createElementBlock(\"section\", _hoisted_10, [\n                                    _cache[66] || (_cache[66] = _createElementVNode(\"p\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"label\", null, [\n                                        _cache[65] || (_cache[65] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"select\", {\n                                            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event) => (_isRef(xenoRouteRole) ? (xenoRouteRole).value = $event : null))\n                                        }, [...(_cache[64] || (_cache[64] = [\n                                                _createElementVNode(\"option\", { value: \"\" }, \"\", -1 /* CACHED */),\n                                                _createElementVNode(\"option\", { value: \"\" }, \"\", -1 /* CACHED */)\n                                            ]))], 512 /* NEED_PATCH */), [\n                                            [_vModelSelect, _unref(xenoRouteRole)]\n                                        ])\n                                    ]),\n                                    _cache[67] || (_cache[67] = _createElementVNode(\"p\", { class: \"hint\" }, \"\", -1 /* CACHED */))\n                                ]))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"label\", _hoisted_11, [\n                                _cache[68] || (_cache[68] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                _createElementVNode(\"textarea\", {\n                                    value: _unref(professionDescription),\n                                    rows: \"9\",\n                                    readonly: \"\"\n                                }, null, 8 /* PROPS */, _hoisted_12)\n                            ]),\n                            _createElementVNode(\"label\", null, [\n                                _createElementVNode(\"span\", null, \"\" + _toDisplayString(_unref(currentAgeRange).min) + \"-\" + _toDisplayString(_unref(currentAgeRange).max) + \"\", 1 /* TEXT */),\n                                _withDirectives(_createElementVNode(\"input\", {\n                                    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => ((_unref(createForm).age) = $event)),\n                                    type: \"number\",\n                                    min: _unref(currentAgeRange).min,\n                                    max: _unref(currentAgeRange).max,\n                                    placeholder: \"\"\n                                }, null, 8 /* PROPS */, _hoisted_13), [\n                                    [\n                                        _vModelText,\n                                        _unref(createForm).age,\n                                        void 0,\n                                        { number: true }\n                                    ]\n                                ])\n                            ]),\n                            _createElementVNode(\"label\", null, [\n                                _cache[69] || (_cache[69] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                _withDirectives(_createElementVNode(\"select\", {\n                                    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => ((_unref(createForm).gender) = $event)),\n                                    disabled: _unref(createForm).profession === ''\n                                }, [\n                                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(genderOptions, (item) => {\n                                        return _createElementVNode(\"option\", {\n                                            key: item,\n                                            value: item\n                                        }, _toDisplayString(item), 9 /* TEXT, PROPS */, _hoisted_15);\n                                    }), 64 /* STABLE_FRAGMENT */))\n                                ], 8 /* PROPS */, _hoisted_14), [\n                                    [_vModelSelect, _unref(createForm).gender]\n                                ])\n                            ]),\n                            (_unref(createForm).profession === '')\n                                ? (_openBlock(), _createElementBlock(\"label\", _hoisted_16, [\n                                    _cache[70] || (_cache[70] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _withDirectives(_createElementVNode(\"select\", {\n                                        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => ((_unref(createForm).warmaidType) = $event))\n                                    }, [\n                                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(warmaidTypeOptions, (item) => {\n                                            return _createElementVNode(\"option\", {\n                                                key: item,\n                                                value: item\n                                            }, _toDisplayString(item), 9 /* TEXT, PROPS */, _hoisted_17);\n                                        }), 64 /* STABLE_FRAGMENT */))\n                                    ], 512 /* NEED_PATCH */), [\n                                        [_vModelSelect, _unref(createForm).warmaidType]\n                                    ])\n                                ]))\n                                : _createCommentVNode(\"v-if\", true),\n                            (_unref(createForm).profession === '')\n                                ? (_openBlock(), _createElementBlock(\"label\", _hoisted_18, [\n                                    _cache[71] || (_cache[71] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"textarea\", {\n                                        value: _unref(warmaidTypeDescription),\n                                        rows: \"10\",\n                                        readonly: \"\"\n                                    }, null, 8 /* PROPS */, _hoisted_19)\n                                ]))\n                                : _createCommentVNode(\"v-if\", true),\n                            _createElementVNode(\"div\", _hoisted_20, [\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"ghost\",\n                                    onClick: _cache[8] || (_cache[8] = ($event) => (started.value = false))\n                                }, \"\"),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    onClick: goCreatePageTwo\n                                }, \"\")\n                            ])\n                        ]))\n                        : (!_unref(createDone) && _unref(createPage) === 2)\n                            ? (_openBlock(), _createElementBlock(\"section\", _hoisted_21, [\n                                _cache[73] || (_cache[73] = _createElementVNode(\"h2\", null, \" - 2\", -1 /* CACHED */)),\n                                _cache[74] || (_cache[74] = _createElementVNode(\"p\", { class: \"hint\" }, \" 1 5  5\", -1 /* CACHED */)),\n                                _createElementVNode(\"p\", _hoisted_22, \"\" + _toDisplayString(_unref(humanPointsLeft)), 1 /* TEXT */),\n                                _createElementVNode(\"section\", _hoisted_23, [\n                                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(humanAttrItems, (item) => {\n                                        return _createElementVNode(\"article\", {\n                                            key: item.key,\n                                            class: \"attr-item\"\n                                        }, [\n                                            _createElementVNode(\"header\", null, [\n                                                _createElementVNode(\"strong\", null, _toDisplayString(item.key), 1 /* TEXT */),\n                                                _createElementVNode(\"span\", null, _toDisplayString(item.desc), 1 /* TEXT */)\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_24, [\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    class: \"ghost\",\n                                                    disabled: _unref(createHumanAttr)[item.key] <= 1,\n                                                    onClick: ($event) => (decHumanAttr(item.key))\n                                                }, \"-\", 8 /* PROPS */, _hoisted_25),\n                                                _createElementVNode(\"b\", null, _toDisplayString(_unref(createHumanAttr)[item.key]), 1 /* TEXT */),\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    disabled: _unref(humanPointsLeft) <= 0 || _unref(createHumanAttr)[item.key] >= 5,\n                                                    onClick: ($event) => (incHumanAttr(item.key))\n                                                }, \"+\", 8 /* PROPS */, _hoisted_26)\n                                            ])\n                                        ]);\n                                    }), 64 /* STABLE_FRAGMENT */))\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_27, [\n                                    _createElementVNode(\"button\", {\n                                        type: \"button\",\n                                        class: \"ghost\",\n                                        onClick: _cache[9] || (_cache[9] = ($event) => (createPage.value = 1))\n                                    }, \"\"),\n                                    _createElementVNode(\"button\", {\n                                        type: \"button\",\n                                        onClick: goCreatePageThree\n                                    }, \"\")\n                                ])\n                            ]))\n                            : (!_unref(createDone) && _unref(createPage) === 3)\n                                ? (_openBlock(), _createElementBlock(\"section\", _hoisted_28, [\n                                    _cache[77] || (_cache[77] = _createElementVNode(\"h2\", null, \" - 3\", -1 /* CACHED */)),\n                                    _cache[78] || (_cache[78] = _createElementVNode(\"p\", { class: \"hint\" }, \"1000\", -1 /* CACHED */)),\n                                    _createElementVNode(\"label\", null, [\n                                        _cache[75] || (_cache[75] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"select\", {\n                                            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event) => (_isRef(backgroundPresetKey) ? (backgroundPresetKey).value = $event : null))\n                                        }, [\n                                            (_openBlock(), _createElementBlock(_Fragment, null, _renderList(backgroundPresetOptions, (item) => {\n                                                return _createElementVNode(\"option\", {\n                                                    key: item.key,\n                                                    value: item.key\n                                                }, _toDisplayString(item.label), 9 /* TEXT, PROPS */, _hoisted_29);\n                                            }), 64 /* STABLE_FRAGMENT */))\n                                        ], 512 /* NEED_PATCH */), [\n                                            [_vModelSelect, _unref(backgroundPresetKey)]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_30, [\n                                        _createElementVNode(\"button\", {\n                                            type: \"button\",\n                                            class: \"ghost\",\n                                            onClick: applyBackgroundPreset\n                                        }, \"\"),\n                                        _createElementVNode(\"span\", _hoisted_31, \"\" + _toDisplayString(_unref(currentBackgroundPresetLabel)), 1 /* TEXT */)\n                                    ]),\n                                    _createElementVNode(\"label\", _hoisted_32, [\n                                        _cache[76] || (_cache[76] = _createElementVNode(\"span\", null, \"0-1000\", -1 /* CACHED */)),\n                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => ((_unref(createForm).background) = $event)),\n                                            rows: \"12\",\n                                            maxlength: \"1000\",\n                                            placeholder: \"\"\n                                        }, null, 512 /* NEED_PATCH */), [\n                                            [_vModelText, _unref(createForm).background]\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"p\", _hoisted_33, \" \" + _toDisplayString(_unref(createForm).background.length) + \"/1000\", 1 /* TEXT */),\n                                    _createElementVNode(\"div\", _hoisted_34, [\n                                        _createElementVNode(\"button\", {\n                                            type: \"button\",\n                                            class: \"ghost\",\n                                            onClick: _cache[12] || (_cache[12] = ($event) => (createPage.value = 2))\n                                        }, \"\"),\n                                        _createElementVNode(\"button\", {\n                                            type: \"button\",\n                                            onClick: finishCreate\n                                        }, \"\")\n                                    ])\n                                ]))\n                                : (_openBlock(), _createElementBlock(_Fragment, { key: 4 }, [\n                                    _createElementVNode(\"header\", _hoisted_35, [\n                                        _cache[79] || (_cache[79] = _createElementVNode(\"div\", { class: \"title\" }, [\n                                            _createElementVNode(\"h1\", null, \"\"),\n                                            _createElementVNode(\"p\", null, \"Ruina Style / Auto Paging / Tavern API Bridge\")\n                                        ], -1 /* CACHED */)),\n                                        _createElementVNode(\"div\", _hoisted_36, [\n                                            _createElementVNode(\"button\", {\n                                                type: \"button\",\n                                                class: \"ghost db-btn\",\n                                                onClick: _cache[13] || (_cache[13] = ($event) => (showSummaryCenter.value = !_unref(showSummaryCenter)))\n                                            }, _toDisplayString(_unref(showSummaryCenter) ? '' : ''), 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                type: \"button\",\n                                                class: \"ghost\",\n                                                onClick: toggleFullscreen\n                                            }, _toDisplayString(_unref(isFullscreen) ? '' : ''), 1 /* TEXT */),\n                                            _createElementVNode(\"button\", {\n                                                type: \"button\",\n                                                class: \"ghost\",\n                                                onClick: _cache[14] || (_cache[14] = ($event) => (showSettings.value = !_unref(showSettings)))\n                                            }, _toDisplayString(_unref(showSettings) ? '' : ''), 1 /* TEXT */)\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"section\", _hoisted_37, [\n                                        _createElementVNode(\"aside\", _hoisted_38, [\n                                            _cache[90] || (_cache[90] = _createElementVNode(\"h3\", null, \"\", -1 /* CACHED */)),\n                                            _createElementVNode(\"dl\", null, [\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[80] || (_cache[80] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, _toDisplayString(_unref(createForm).name || ''), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[81] || (_cache[81] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, _toDisplayString(_unref(createForm).gender), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[82] || (_cache[82] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, _toDisplayString(_unref(createForm).profession), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[83] || (_cache[83] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, _toDisplayString(_unref(xenoRouteMode) ? `/${_unref(xenoRouteRole)}` : ''), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[84] || (_cache[84] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, _toDisplayString(_unref(cheatMode) ? '' : ''), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[85] || (_cache[85] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, _toDisplayString(_unref(plotMode) ? '' : ''), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", _hoisted_39, [\n                                                    _cache[86] || (_cache[86] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, [\n                                                        (_openBlock(), _createElementBlock(_Fragment, null, _renderList(humanAttrItems, (item) => {\n                                                            return _createElementVNode(\"span\", {\n                                                                key: item.key,\n                                                                class: \"attr-chip\"\n                                                            }, _toDisplayString(item.key) + \" \" + _toDisplayString(_unref(createHumanAttr)[item.key]), 1 /* TEXT */);\n                                                        }), 64 /* STABLE_FRAGMENT */))\n                                                    ])\n                                                ]),\n                                                _createElementVNode(\"div\", _hoisted_40, [\n                                                    _cache[87] || (_cache[87] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, [\n                                                        _createElementVNode(\"span\", _hoisted_41, \" \" + _toDisplayString(_unref(playerResource).hp) + \"/\" + _toDisplayString(_unref(playerResource).hpMax), 1 /* TEXT */),\n                                                        _createElementVNode(\"span\", _hoisted_42, \" \" + _toDisplayString(_unref(playerResource).mp) + \"/\" + _toDisplayString(_unref(playerResource).mpMax), 1 /* TEXT */),\n                                                        _createElementVNode(\"span\", _hoisted_43, \" \" + _toDisplayString(_unref(playerResource).ap), 1 /* TEXT */)\n                                                    ])\n                                                ]),\n                                                _createElementVNode(\"div\", null, [\n                                                    _cache[88] || (_cache[88] = _createElementVNode(\"dt\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"dd\", null, _toDisplayString(_unref(backgroundSummary)), 1 /* TEXT */)\n                                                ])\n                                            ]),\n                                            _createElementVNode(\"section\", _hoisted_44, [\n                                                _createElementVNode(\"div\", _hoisted_45, [\n                                                    _cache[89] || (_cache[89] = _createElementVNode(\"h4\", null, \"\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"button\", {\n                                                        type: \"button\",\n                                                        class: \"ghost small\",\n                                                        onClick: _cache[15] || (_cache[15] = ($event) => (showInventoryPanel.value = !_unref(showInventoryPanel)))\n                                                    }, _toDisplayString(_unref(showInventoryPanel) ? '' : ''), 1 /* TEXT */)\n                                                ]),\n                                                (_unref(showInventoryPanel))\n                                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                                        (_unref(cheatMode))\n                                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_46, [\n                                                                _withDirectives(_createElementVNode(\"input\", {\n                                                                    \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event) => ((_unref(inventoryEditor).name) = $event)),\n                                                                    placeholder: \"\"\n                                                                }, null, 512 /* NEED_PATCH */), [\n                                                                    [\n                                                                        _vModelText,\n                                                                        _unref(inventoryEditor).name,\n                                                                        void 0,\n                                                                        { trim: true }\n                                                                    ]\n                                                                ]),\n                                                                _withDirectives(_createElementVNode(\"input\", {\n                                                                    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = ($event) => ((_unref(inventoryEditor).count) = $event)),\n                                                                    type: \"number\",\n                                                                    min: \"1\",\n                                                                    placeholder: \"\"\n                                                                }, null, 512 /* NEED_PATCH */), [\n                                                                    [\n                                                                        _vModelText,\n                                                                        _unref(inventoryEditor).count,\n                                                                        void 0,\n                                                                        { number: true }\n                                                                    ]\n                                                                ]),\n                                                                _withDirectives(_createElementVNode(\"input\", {\n                                                                    \"onUpdate:modelValue\": _cache[18] || (_cache[18] = ($event) => ((_unref(inventoryEditor).note) = $event)),\n                                                                    placeholder: \"\"\n                                                                }, null, 512 /* NEED_PATCH */), [\n                                                                    [\n                                                                        _vModelText,\n                                                                        _unref(inventoryEditor).note,\n                                                                        void 0,\n                                                                        { trim: true }\n                                                                    ]\n                                                                ]),\n                                                                _createElementVNode(\"button\", {\n                                                                    type: \"button\",\n                                                                    class: \"ghost small\",\n                                                                    onClick: addInventoryItem\n                                                                }, \"\")\n                                                            ]))\n                                                            : (_openBlock(), _createElementBlock(\"p\", _hoisted_47, \"\")),\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(inventoryItems), (item) => {\n                                                            return (_openBlock(), _createElementBlock(\"article\", {\n                                                                key: item.id,\n                                                                class: \"inventory-item\"\n                                                            }, [\n                                                                _createElementVNode(\"header\", null, [\n                                                                    _createElementVNode(\"strong\", null, _toDisplayString(item.name) + \" \" + _toDisplayString(item.count), 1 /* TEXT */),\n                                                                    (_unref(cheatMode))\n                                                                        ? (_openBlock(), _createElementBlock(\"button\", {\n                                                                            key: 0,\n                                                                            type: \"button\",\n                                                                            class: \"ghost small\",\n                                                                            onClick: ($event) => (removeInventoryItem(item.id))\n                                                                        }, \"\", 8 /* PROPS */, _hoisted_48))\n                                                                        : _createCommentVNode(\"v-if\", true)\n                                                                ]),\n                                                                _createElementVNode(\"p\", null, \"\" + _toDisplayString(item.note), 1 /* TEXT */)\n                                                            ]));\n                                                        }), 128 /* KEYED_FRAGMENT */)),\n                                                        (!_unref(inventoryItems).length)\n                                                            ? (_openBlock(), _createElementBlock(\"p\", _hoisted_49, \"\"))\n                                                            : _createCommentVNode(\"v-if\", true)\n                                                    ], 64 /* STABLE_FRAGMENT */))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_50, [\n                                            _createElementVNode(\"section\", _hoisted_51, [\n                                                _createElementVNode(\"div\", _hoisted_52, [\n                                                    _createElementVNode(\"button\", {\n                                                        type: \"button\",\n                                                        class: \"ghost\",\n                                                        disabled: _unref(currentPage) <= 0,\n                                                        onClick: _cache[19] || (_cache[19] = ($event) => (currentPage.value--))\n                                                    }, \"\", 8 /* PROPS */, _hoisted_53),\n                                                    _createElementVNode(\"span\", _hoisted_54, \" \" + _toDisplayString(_unref(currentPage) + 1) + \" / \" + _toDisplayString(_unref(pageRanges).length) + \" \", 1 /* TEXT */),\n                                                    _createElementVNode(\"button\", {\n                                                        type: \"button\",\n                                                        class: \"ghost\",\n                                                        disabled: _unref(currentPage) >= _unref(pageRanges).length - 1,\n                                                        onClick: _cache[20] || (_cache[20] = ($event) => (currentPage.value++))\n                                                    }, \"  \", 8 /* PROPS */, _hoisted_55)\n                                                ]),\n                                                _createElementVNode(\"label\", _hoisted_56, [\n                                                    _withDirectives(_createElementVNode(\"input\", {\n                                                        \"onUpdate:modelValue\": _cache[21] || (_cache[21] = ($event) => ((_unref(settings).autoFlipPage) = $event)),\n                                                        type: \"checkbox\"\n                                                    }, null, 512 /* NEED_PATCH */), [\n                                                        [_vModelCheckbox, _unref(settings).autoFlipPage]\n                                                    ]),\n                                                    _cache[91] || (_cache[91] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */))\n                                                ])\n                                            ]),\n                                            (_unref(showSettings))\n                                                ? (_openBlock(), _createElementBlock(\"section\", _hoisted_57, [\n                                                    _createElementVNode(\"div\", _hoisted_58, [\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            onClick: pullFromTavern\n                                                        }, \"/API\"),\n                                                        _createElementVNode(\"span\", _hoisted_59, _toDisplayString(_unref(tavernSummary)), 1 /* TEXT */)\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_60, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[22] || (_cache[22] = ($event) => ((_unref(settings).useTavernPreset) = $event)),\n                                                            type: \"checkbox\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelCheckbox, _unref(settings).useTavernPreset]\n                                                        ]),\n                                                        _cache[92] || (_cache[92] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */))\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[93] || (_cache[93] = _createElementVNode(\"span\", null, \"Base URL\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[23] || (_cache[23] = ($event) => ((_unref(settings).baseUrl) = $event)),\n                                                            placeholder: \"https://api.openai.com/v1\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).baseUrl,\n                                                                void 0,\n                                                                { trim: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[94] || (_cache[94] = _createElementVNode(\"span\", null, \"API Key\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[24] || (_cache[24] = ($event) => ((_unref(settings).apiKey) = $event)),\n                                                            type: \"password\",\n                                                            placeholder: \"sk-...\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).apiKey,\n                                                                void 0,\n                                                                { trim: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[95] || (_cache[95] = _createElementVNode(\"span\", null, \"Model\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[25] || (_cache[25] = ($event) => ((_unref(settings).model) = $event)),\n                                                            list: \"th-model-options\",\n                                                            placeholder: \"gpt-4.1-mini\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).model,\n                                                                void 0,\n                                                                { trim: true }\n                                                            ]\n                                                        ]),\n                                                        _createElementVNode(\"datalist\", _hoisted_61, [\n                                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(modelOptions), (item) => {\n                                                                return (_openBlock(), _createElementBlock(\"option\", {\n                                                                    key: item,\n                                                                    value: item\n                                                                }, _toDisplayString(item), 9 /* TEXT, PROPS */, _hoisted_62));\n                                                            }), 128 /* KEYED_FRAGMENT */))\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_63, [\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            class: \"ghost small\",\n                                                            disabled: _unref(modelFetchRunning),\n                                                            onClick: fetchModelOptions\n                                                        }, _toDisplayString(_unref(modelFetchRunning) ? '...' : ''), 9 /* TEXT, PROPS */, _hoisted_64),\n                                                        _createElementVNode(\"span\", _hoisted_65, _toDisplayString(_unref(modelOptions).length ? ` ${_unref(modelOptions).length} ` : 'URL'), 1 /* TEXT */)\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[96] || (_cache[96] = _createElementVNode(\"span\", null, \"System Prompt\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[26] || (_cache[26] = ($event) => ((_unref(settings).systemPrompt) = $event)),\n                                                            rows: \"3\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(settings).systemPrompt]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_66, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[27] || (_cache[27] = ($event) => ((_unref(settings).autoSummaryEnabled) = $event)),\n                                                            type: \"checkbox\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelCheckbox, _unref(settings).autoSummaryEnabled]\n                                                        ]),\n                                                        _cache[97] || (_cache[97] = _createElementVNode(\"span\", null, \" 5 \", -1 /* CACHED */))\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[98] || (_cache[98] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[28] || (_cache[28] = ($event) => ((_unref(settings).summaryFloorsPerRun) = $event)),\n                                                            type: \"number\",\n                                                            min: \"1\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).summaryFloorsPerRun,\n                                                                void 0,\n                                                                { number: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_67, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[29] || (_cache[29] = ($event) => ((_unref(settings).summaryUseCurrentApi) = $event)),\n                                                            type: \"checkbox\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelCheckbox, _unref(settings).summaryUseCurrentApi]\n                                                        ]),\n                                                        _cache[99] || (_cache[99] = _createElementVNode(\"span\", null, \"API\", -1 /* CACHED */))\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_68, [\n                                                        _cache[100] || (_cache[100] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[30] || (_cache[30] = ($event) => ((_unref(settings).autoSummaryPrompt) = $event)),\n                                                            rows: \"4\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(settings).autoSummaryPrompt]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_69, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[31] || (_cache[31] = ($event) => ((_unref(settings).summaryUseVarApi) = $event)),\n                                                            type: \"checkbox\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelCheckbox, _unref(settings).summaryUseVarApi]\n                                                        ]),\n                                                        _cache[101] || (_cache[101] = _createElementVNode(\"span\", null, \"API\", -1 /* CACHED */))\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[102] || (_cache[102] = _createElementVNode(\"span\", null, \"API URL\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[32] || (_cache[32] = ($event) => ((_unref(settings).summaryVarApiUrl) = $event)),\n                                                            placeholder: \"https://your-api/vars\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).summaryVarApiUrl,\n                                                                void 0,\n                                                                { trim: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[103] || (_cache[103] = _createElementVNode(\"span\", null, \"API Key\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[33] || (_cache[33] = ($event) => ((_unref(settings).summaryVarApiKey) = $event)),\n                                                            type: \"password\",\n                                                            placeholder: \"Bearer Token\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).summaryVarApiKey,\n                                                                void 0,\n                                                                { trim: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_70, [\n                                                        _cache[104] || (_cache[104] = _createElementVNode(\"span\", null, \"APIJSON\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[34] || (_cache[34] = ($event) => ((_unref(settings).summaryVarApiPayload) = $event)),\n                                                            rows: \"3\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(settings).summaryVarApiPayload]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_71, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[35] || (_cache[35] = ($event) => ((_unref(settings).megaSummaryEnabled) = $event)),\n                                                            type: \"checkbox\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelCheckbox, _unref(settings).megaSummaryEnabled]\n                                                        ]),\n                                                        _cache[105] || (_cache[105] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */))\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[106] || (_cache[106] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[36] || (_cache[36] = ($event) => ((_unref(settings).megaSummaryEvery) = $event)),\n                                                            type: \"number\",\n                                                            min: \"1\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).megaSummaryEvery,\n                                                                void 0,\n                                                                { number: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_72, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[37] || (_cache[37] = ($event) => ((_unref(settings).megaSummaryUseCurrentApi) = $event)),\n                                                            type: \"checkbox\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelCheckbox, _unref(settings).megaSummaryUseCurrentApi]\n                                                        ]),\n                                                        _cache[107] || (_cache[107] = _createElementVNode(\"span\", null, \"API\", -1 /* CACHED */))\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_73, [\n                                                        _cache[108] || (_cache[108] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[38] || (_cache[38] = ($event) => ((_unref(settings).megaSummaryPrompt) = $event)),\n                                                            rows: \"4\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(settings).megaSummaryPrompt]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_74, [\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[39] || (_cache[39] = ($event) => ((_unref(settings).megaSummaryUseVarApi) = $event)),\n                                                            type: \"checkbox\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelCheckbox, _unref(settings).megaSummaryUseVarApi]\n                                                        ]),\n                                                        _cache[109] || (_cache[109] = _createElementVNode(\"span\", null, \"API\", -1 /* CACHED */))\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[110] || (_cache[110] = _createElementVNode(\"span\", null, \"API URL\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[40] || (_cache[40] = ($event) => ((_unref(settings).megaSummaryVarApiUrl) = $event)),\n                                                            placeholder: \"https://your-api/mega-vars\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).megaSummaryVarApiUrl,\n                                                                void 0,\n                                                                { trim: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", null, [\n                                                        _cache[111] || (_cache[111] = _createElementVNode(\"span\", null, \"API Key\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"input\", {\n                                                            \"onUpdate:modelValue\": _cache[41] || (_cache[41] = ($event) => ((_unref(settings).megaSummaryVarApiKey) = $event)),\n                                                            type: \"password\",\n                                                            placeholder: \"Bearer Token\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [\n                                                                _vModelText,\n                                                                _unref(settings).megaSummaryVarApiKey,\n                                                                void 0,\n                                                                { trim: true }\n                                                            ]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"label\", _hoisted_75, [\n                                                        _cache[112] || (_cache[112] = _createElementVNode(\"span\", null, \"APIJSON\", -1 /* CACHED */)),\n                                                        _withDirectives(_createElementVNode(\"textarea\", {\n                                                            \"onUpdate:modelValue\": _cache[42] || (_cache[42] = ($event) => ((_unref(settings).megaSummaryVarApiPayload) = $event)),\n                                                            rows: \"3\"\n                                                        }, null, 512 /* NEED_PATCH */), [\n                                                            [_vModelText, _unref(settings).megaSummaryVarApiPayload]\n                                                        ])\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_76, [\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            onClick: saveSettings\n                                                        }, \"\"),\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            class: \"ghost\",\n                                                            onClick: resetSession\n                                                        }, \"\"),\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            class: \"ghost\",\n                                                            onClick: _cache[43] || (_cache[43] = ($event) => (showSummaryCenter.value = !_unref(showSummaryCenter)))\n                                                        }, _toDisplayString(_unref(showSummaryCenter) ? '' : ''), 1 /* TEXT */)\n                                                    ])\n                                                ]))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            (_unref(showSummaryCenter))\n                                                ? (_openBlock(), _createElementBlock(\"section\", _hoisted_77, [\n                                                    _createElementVNode(\"div\", _hoisted_78, [\n                                                        _cache[113] || (_cache[113] = _createElementVNode(\"strong\", null, \"\", -1 /* CACHED */)),\n                                                        _createElementVNode(\"span\", _hoisted_79, \" \" + _toDisplayString(_unref(memoryVault).length) + \"  \" + _toDisplayString(_unref(hiddenFloorUntil)), 1 /* TEXT */)\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_80, [\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            class: \"ghost\",\n                                                            disabled: _unref(summaryRunning) || _unref(pending),\n                                                            onClick: runManualSummary\n                                                        }, _toDisplayString(_unref(summaryRunning) ? '...' : ''), 9 /* TEXT, PROPS */, _hoisted_81),\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            class: \"ghost\",\n                                                            disabled: _unref(summaryRunning) || _unref(pending),\n                                                            onClick: runManualMegaSummary\n                                                        }, _toDisplayString(_unref(summaryRunning) ? '...' : ''), 9 /* TEXT, PROPS */, _hoisted_82),\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"button\",\n                                                            class: \"ghost\",\n                                                            onClick: clearMemoryVault\n                                                        }, \"\")\n                                                    ]),\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(memoryVaultReversed), (entry) => {\n                                                        return (_openBlock(), _createElementBlock(\"article\", {\n                                                            key: entry.id,\n                                                            class: \"memory-item\"\n                                                        }, [\n                                                            _createElementVNode(\"header\", null, [\n                                                                _createElementVNode(\"strong\", null, \" \" + _toDisplayString(entry.floorStart) + \" - \" + _toDisplayString(entry.floorEnd), 1 /* TEXT */),\n                                                                _createElementVNode(\"span\", _hoisted_83, _toDisplayString(formatTs(entry.createdAt)) + \" / \" + _toDisplayString(entry.extraVarNote), 1 /* TEXT */)\n                                                            ]),\n                                                            _createElementVNode(\"pre\", null, _toDisplayString(entry.summary), 1 /* TEXT */)\n                                                        ]));\n                                                    }), 128 /* KEYED_FRAGMENT */)),\n                                                    (!_unref(memoryVault).length)\n                                                        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_84, \" \" + _toDisplayString(_unref(settings).summaryFloorsPerRun) + \" \", 1 /* TEXT */))\n                                                        : _createCommentVNode(\"v-if\", true),\n                                                    _createElementVNode(\"div\", _hoisted_85, [\n                                                        _cache[114] || (_cache[114] = _createElementVNode(\"strong\", null, \"\", -1 /* CACHED */)),\n                                                        _createElementVNode(\"span\", _hoisted_86, \" \" + _toDisplayString(_unref(megaMemoryVault).length) + \" \", 1 /* TEXT */)\n                                                    ]),\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(megaMemoryVaultReversed), (entry) => {\n                                                        return (_openBlock(), _createElementBlock(\"article\", {\n                                                            key: entry.id,\n                                                            class: \"memory-item mega\"\n                                                        }, [\n                                                            _createElementVNode(\"header\", null, [\n                                                                _createElementVNode(\"strong\", null, \" \" + _toDisplayString(entry.floorStart) + \" - \" + _toDisplayString(entry.floorEnd) + \"\", 1 /* TEXT */),\n                                                                _createElementVNode(\"span\", _hoisted_87, _toDisplayString(formatTs(entry.createdAt)) + \" / \" + _toDisplayString(entry.extraVarNote), 1 /* TEXT */)\n                                                            ]),\n                                                            _createElementVNode(\"pre\", null, _toDisplayString(entry.summary), 1 /* TEXT */)\n                                                        ]));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ]))\n                                                : _createCommentVNode(\"v-if\", true),\n                                            _createElementVNode(\"section\", _hoisted_88, [\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    disabled: _unref(interactionLocked),\n                                                    onClick: _cache[44] || (_cache[44] = ($event) => (sendQuick('')))\n                                                }, \"\", 8 /* PROPS */, _hoisted_89),\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    disabled: _unref(interactionLocked),\n                                                    onClick: _cache[45] || (_cache[45] = ($event) => (sendQuick('')))\n                                                }, \"\", 8 /* PROPS */, _hoisted_90),\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    disabled: _unref(interactionLocked),\n                                                    onClick: _cache[46] || (_cache[46] = ($event) => (sendQuick('')))\n                                                }, \"\", 8 /* PROPS */, _hoisted_91)\n                                            ]),\n                                            _createElementVNode(\"section\", _hoisted_92, [\n                                                _createElementVNode(\"div\", _hoisted_93, [\n                                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(visibleMessages), (item) => {\n                                                        return (_openBlock(), _createElementBlock(\"article\", {\n                                                            key: item.id,\n                                                            class: _normalizeClass([\"msg\", `msg--${item.role}`])\n                                                        }, [\n                                                            _createElementVNode(\"header\", null, _toDisplayString(roleLabel(item.role)), 1 /* TEXT */),\n                                                            _createElementVNode(\"pre\", null, _toDisplayString(displayContent(item)), 1 /* TEXT */)\n                                                        ], 2 /* CLASS */));\n                                                    }), 128 /* KEYED_FRAGMENT */))\n                                                ]),\n                                                _createElementVNode(\"form\", {\n                                                    class: \"composer\",\n                                                    onSubmit: _withModifiers(sendUserInput, [\"prevent\"])\n                                                }, [\n                                                    _withDirectives(_createElementVNode(\"textarea\", {\n                                                        \"onUpdate:modelValue\": _cache[47] || (_cache[47] = ($event) => (_isRef(draft) ? (draft).value = $event : null)),\n                                                        rows: \"3\",\n                                                        disabled: _unref(interactionLocked),\n                                                        placeholder: \"\"\n                                                    }, null, 8 /* PROPS */, _hoisted_94), [\n                                                        [_vModelText, _unref(draft)]\n                                                    ]),\n                                                    _createElementVNode(\"div\", _hoisted_95, [\n                                                        _createElementVNode(\"span\", _hoisted_96, _toDisplayString(_unref(interactionLocked) ? _unref(lockHint) : _unref(modeHint)), 1 /* TEXT */),\n                                                        _createElementVNode(\"button\", {\n                                                            type: \"submit\",\n                                                            disabled: _unref(interactionLocked) || !_unref(draft).trim()\n                                                        }, \"\", 8 /* PROPS */, _hoisted_97)\n                                                    ])\n                                                ], 32 /* NEED_HYDRATION */)\n                                            ]),\n                                            _createElementVNode(\"section\", _hoisted_98, [\n                                                _createElementVNode(\"div\", _hoisted_99, [\n                                                    _cache[115] || (_cache[115] = _createElementVNode(\"strong\", null, \"NPC\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"span\", _hoisted_100, \" \" + _toDisplayString(_unref(onstageNpcs).length) + \" / NPC \" + _toDisplayString(_unref(longtermNpcs).length), 1 /* TEXT */),\n                                                    _createElementVNode(\"button\", {\n                                                        type: \"button\",\n                                                        class: \"ghost small\",\n                                                        onClick: _cache[48] || (_cache[48] = ($event) => (showNpcPanel.value = !_unref(showNpcPanel)))\n                                                    }, _toDisplayString(_unref(showNpcPanel) ? 'NPC' : 'NPC'), 1 /* TEXT */)\n                                                ]),\n                                                (_unref(showNpcPanel))\n                                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                                                        _createElementVNode(\"div\", _hoisted_101, [\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": _cache[49] || (_cache[49] = ($event) => ((_unref(npcEditor).name) = $event)),\n                                                                placeholder: \"NPC\"\n                                                            }, null, 512 /* NEED_PATCH */), [\n                                                                [\n                                                                    _vModelText,\n                                                                    _unref(npcEditor).name,\n                                                                    void 0,\n                                                                    { trim: true }\n                                                                ]\n                                                            ]),\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": _cache[50] || (_cache[50] = ($event) => ((_unref(npcEditor).role) = $event)),\n                                                                placeholder: \"/\"\n                                                            }, null, 512 /* NEED_PATCH */), [\n                                                                [\n                                                                    _vModelText,\n                                                                    _unref(npcEditor).role,\n                                                                    void 0,\n                                                                    { trim: true }\n                                                                ]\n                                                            ]),\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": _cache[51] || (_cache[51] = ($event) => ((_unref(npcEditor).relation) = $event)),\n                                                                placeholder: \"/\"\n                                                            }, null, 512 /* NEED_PATCH */), [\n                                                                [\n                                                                    _vModelText,\n                                                                    _unref(npcEditor).relation,\n                                                                    void 0,\n                                                                    { trim: true }\n                                                                ]\n                                                            ]),\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": _cache[52] || (_cache[52] = ($event) => ((_unref(npcEditor).status) = $event)),\n                                                                placeholder: \"/\"\n                                                            }, null, 512 /* NEED_PATCH */), [\n                                                                [\n                                                                    _vModelText,\n                                                                    _unref(npcEditor).status,\n                                                                    void 0,\n                                                                    { trim: true }\n                                                                ]\n                                                            ]),\n                                                            _withDirectives(_createElementVNode(\"input\", {\n                                                                \"onUpdate:modelValue\": _cache[53] || (_cache[53] = ($event) => ((_unref(npcEditor).tags) = $event)),\n                                                                placeholder: \"/\"\n                                                            }, null, 512 /* NEED_PATCH */), [\n                                                                [\n                                                                    _vModelText,\n                                                                    _unref(npcEditor).tags,\n                                                                    void 0,\n                                                                    { trim: true }\n                                                                ]\n                                                            ]),\n                                                            _createElementVNode(\"label\", _hoisted_102, [\n                                                                _withDirectives(_createElementVNode(\"input\", {\n                                                                    \"onUpdate:modelValue\": _cache[54] || (_cache[54] = ($event) => ((_unref(npcEditor).toLongterm) = $event)),\n                                                                    type: \"checkbox\"\n                                                                }, null, 512 /* NEED_PATCH */), [\n                                                                    [_vModelCheckbox, _unref(npcEditor).toLongterm]\n                                                                ]),\n                                                                _cache[116] || (_cache[116] = _createElementVNode(\"span\", null, \"NPC\", -1 /* CACHED */))\n                                                            ]),\n                                                            _createElementVNode(\"button\", {\n                                                                type: \"button\",\n                                                                class: \"ghost\",\n                                                                onClick: addNpc\n                                                            }, \"NPC\")\n                                                        ]),\n                                                        _createElementVNode(\"div\", _hoisted_103, [\n                                                            _createElementVNode(\"section\", null, [\n                                                                _cache[117] || (_cache[117] = _createElementVNode(\"h4\", null, \"\", -1 /* CACHED */)),\n                                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(onstageNpcs), (npc) => {\n                                                                    return (_openBlock(), _createElementBlock(\"article\", {\n                                                                        key: npc.id,\n                                                                        class: \"npc-card\"\n                                                                    }, [\n                                                                        _createElementVNode(\"header\", null, [\n                                                                            _createElementVNode(\"strong\", null, _toDisplayString(npc.name), 1 /* TEXT */),\n                                                                            _createElementVNode(\"button\", {\n                                                                                type: \"button\",\n                                                                                class: \"ghost small\",\n                                                                                onClick: ($event) => (removeNpc(npc.id, 'onstage'))\n                                                                            }, \"\", 8 /* PROPS */, _hoisted_104)\n                                                                        ]),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.role), 1 /* TEXT */),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.relation), 1 /* TEXT */),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.status), 1 /* TEXT */),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.tags), 1 /* TEXT */)\n                                                                    ]));\n                                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                                (!_unref(onstageNpcs).length)\n                                                                    ? (_openBlock(), _createElementBlock(\"p\", _hoisted_105, \"\"))\n                                                                    : _createCommentVNode(\"v-if\", true)\n                                                            ]),\n                                                            _createElementVNode(\"section\", null, [\n                                                                _cache[118] || (_cache[118] = _createElementVNode(\"h4\", null, \"NPC\", -1 /* CACHED */)),\n                                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(longtermNpcs), (npc) => {\n                                                                    return (_openBlock(), _createElementBlock(\"article\", {\n                                                                        key: npc.id,\n                                                                        class: \"npc-card\"\n                                                                    }, [\n                                                                        _createElementVNode(\"header\", null, [\n                                                                            _createElementVNode(\"strong\", null, _toDisplayString(npc.name), 1 /* TEXT */),\n                                                                            _createElementVNode(\"button\", {\n                                                                                type: \"button\",\n                                                                                class: \"ghost small\",\n                                                                                onClick: ($event) => (removeNpc(npc.id, 'longterm'))\n                                                                            }, \"\", 8 /* PROPS */, _hoisted_106)\n                                                                        ]),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.role), 1 /* TEXT */),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.relation), 1 /* TEXT */),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.status), 1 /* TEXT */),\n                                                                        _createElementVNode(\"p\", null, \"\" + _toDisplayString(npc.tags), 1 /* TEXT */)\n                                                                    ]));\n                                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                                (!_unref(longtermNpcs).length)\n                                                                    ? (_openBlock(), _createElementBlock(\"p\", _hoisted_107, \"NPC\"))\n                                                                    : _createCommentVNode(\"v-if\", true)\n                                                            ])\n                                                        ])\n                                                    ], 64 /* STABLE_FRAGMENT */))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ])\n                                    ])\n                                ], 64 /* STABLE_FRAGMENT */)),\n                (_unref(systemNotices).length || _unref(dbTask).active)\n                    ? (_openBlock(), _createElementBlock(\"section\", _hoisted_108, [\n                        (_unref(dbTask).active)\n                            ? (_openBlock(), _createElementBlock(\"article\", _hoisted_109, [\n                                _createElementVNode(\"header\", null, [\n                                    _cache[119] || (_cache[119] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(dbTask).completed ? '' : ''), 1 /* TEXT */)\n                                ]),\n                                (!_unref(dbTask).completed)\n                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_110, _toDisplayString(_unref(dbTask).label) + \"   \" + _toDisplayString(_unref(dbTask).seconds) + \"  \", 1 /* TEXT */))\n                                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_111, _toDisplayString(_unref(dbTask).label) + \"  \", 1 /* TEXT */))\n                            ]))\n                            : _createCommentVNode(\"v-if\", true),\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(systemNotices), (n) => {\n                            return (_openBlock(), _createElementBlock(\"article\", {\n                                key: n.id,\n                                class: \"system-notice\"\n                            }, [\n                                _createElementVNode(\"header\", null, [\n                                    _cache[120] || (_cache[120] = _createElementVNode(\"span\", null, \"\", -1 /* CACHED */)),\n                                    _createElementVNode(\"button\", {\n                                        type: \"button\",\n                                        class: \"ghost small\",\n                                        onClick: ($event) => (dismissNotice(n.id))\n                                    }, \"\", 8 /* PROPS */, _hoisted_112)\n                                ]),\n                                _createElementVNode(\"div\", null, _toDisplayString(n.content), 1 /* TEXT */)\n                            ]));\n                        }), 128 /* KEYED_FRAGMENT */))\n                    ]))\n                    : _createCommentVNode(\"v-if\", true)\n            ], 512 /* NEED_PATCH */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./App.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=08663983&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.29_typescript@6.0.0-dev.20250807__webpack@5.105.3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-08663983\"]])\n\nexport default __exports__","import App from '../layer_test/App.vue';\nconst ROOT_ID = 'th-layer-test-standalone-root';\nfunction ensureRoot() {\n    let root = document.getElementById(ROOT_ID);\n    if (!root) {\n        root = document.createElement('div');\n        root.id = ROOT_ID;\n        Object.assign(root.style, {\n            position: 'fixed',\n            right: '12px',\n            bottom: '12px',\n            width: 'min(560px, calc(100vw - 24px))',\n            maxHeight: '78vh',\n            zIndex: '99999',\n            overflow: 'auto',\n            borderRadius: '12px',\n            boxShadow: '0 20px 50px rgba(0,0,0,.45)',\n        });\n        document.body.append(root);\n    }\n    return root;\n}\nlet app = null;\n$(() => {\n    if (app)\n        return;\n    app = createApp(App, { mode: 'standalone' });\n    app.mount(ensureRoot());\n    toastr.success('[] ');\n    $(window).on('pagehide', () => {\n        app?.unmount();\n        app = null;\n        document.getElementById(ROOT_ID)?.remove();\n    });\n});\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","__esModule","default","locals","add","sfc","props","target","__vccOpts","key","val","listToStyles","parentId","styles","newStyles","part","css","sourceMap","parts","hasDocument","document","DEBUG","Error","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","options","ssrIdKey","isOldIE","navigator","test","userAgent","toLowerCase","addStylesClient","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","j","addStyle","createStyleElement","styleElement","createElement","type","appendChild","obj","update","remove","querySelector","parentNode","removeChild","styleIndex","applyToSingletonTag","bind","applyToTag","newObj","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","sources","firstChild","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","Vue","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","storageKey","runtimeStorageKey","__name","mode","setup","__props","modeHint","computed","inTavern","window","SillyTavern","rootRef","ref","isFullscreen","started","createDone","createPage","cheatMode","plotMode","xenoRouteMode","xenoRouteRole","showSettings","showSummaryCenter","showInventoryPanel","showNpcPanel","pending","dbLock","draft","nextId","currentPage","tavernSummary","systemNotices","dbTask","reactive","active","completed","label","seconds","professionOptions","warmaidTypeOptions","genderOptions","ageLimits","min","max","professionDescriptionMap","warmaidTypeDescriptionMap","createForm","name","profession","warmaidType","age","gender","background","backgroundTemplateMap","backgroundPresetOptions","backgroundPresetKey","humanAttrItems","desc","createHumanAttr","humanPointsLeft","values","reduce","sum","v","Number","currentAgeRange","professionDescription","warmaidTypeDescription","autoBackgroundPresetKey","currentBackgroundPresetLabel","find","backgroundSummary","raw","replace","trim","slice","resetPlayerResource","base","hpMax","mpMax","ap","getInitialResourceByBuild","playerResource","hp","mp","defaultSettings","autoFlipPage","useTavernPreset","baseUrl","apiKey","model","systemPrompt","autoSummaryEnabled","summaryFloorsPerRun","summaryUseCurrentApi","autoSummaryPrompt","summaryUseVarApi","summaryVarApiUrl","summaryVarApiKey","summaryVarApiPayload","megaSummaryEnabled","megaSummaryEvery","megaSummaryUseCurrentApi","megaSummaryPrompt","megaSummaryUseVarApi","megaSummaryVarApiUrl","megaSummaryVarApiKey","megaSummaryVarApiPayload","settings","modelOptions","modelFetchRunning","memoryVault","megaMemoryVault","onstageNpcs","longtermNpcs","inventoryItems","npcEditor","role","relation","status","tags","toLongterm","inventoryEditor","count","note","summaryRunning","summaryLastFloor","hiddenFloorUntil","megaSummaryLastCount","lockHint","interactionLocked","injectedContext","inject","contextHint","message_id","message","playerBuildHint","attrs","route","memoryVaultHint","floorStart","floorEnd","summary","memoryVaultReversed","reverse","megaMemoryVaultReversed","messages","pushMessage","sanitizeAssistantContent","String","rawTrimmed","normalizedRaw","m","tailAfterThink","includes","split","pop","contentMatch","match","cleaned","cleanedFallback","displayContent","dismissNotice","pushSystemNotice","Date","now","Math","floor","random","unshift","toastr","info","setTimeout","dbTickTimer","startDbTask","clearInterval","setInterval","finishDbTask","pageRanges","starts","start","idx","end","visibleMessages","page","watch","range","immediate","localStorage","setItem","deep","saveRuntimeState","saveSettings","resetSession","pickString","source","keys","pullFromTavern","st","presetName","getLoadedPresetName","preset","getPreset","chatConfig","chatCompletionSettings","getChatCompletionModel","should_stream","error","buildApiUrl","endsWith","fetchModelOptions","async","url","buildModelsUrl","headers","Authorization","response","fetch","method","ok","ids","payload","Array","isArray","models","from","Set","sort","b","localeCompare","extractModelIds","json","buildPayloadMessages","systemBlocks","entries","extractAssistantText","fetchExtraVariablesByConfig","useVarApi","bodyText","body","text","requestSummaryText","userPrompt","useCurrentApi","generate","user_input","should_silence","stream","choices","requestTextByManualApi","maybeRunMegaSummary","force","threshold","trunc","extraVars","allSummaryText","megaPrompt","first","last","createdAt","extraVarNote","runAutoSummaryForBlock","transcript","lines","buildFloorTranscript","summaryPrompt","requestWithManualApi","answer","streamed","onDelta","reader","getReader","decoder","TextDecoder","buffer","done","read","decode","line","trimmed","startsWith","parsed","parse","delta","parseSseAndWrite","requestAi","lastUser","requestWithTavernPreset","floorsPerRun","playableFloors","nextTarget","maybeRunAutoSummary","sendUserInput","sendQuick","formatTs","ts","toLocaleString","clearMemoryVault","runManualSummary","runManualMegaSummary","addNpc","exist","next","assign","removeNpc","addInventoryItem","startSession","startNormalRoute","startXenoRoute","goCreatePageTwo","isFinite","goCreatePageThree","applyBackgroundPreset","finishCreate","getFullscreenElement","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","enterFullscreen","documentElement","fn","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","syncFullscreenState","toggleFullscreen","doc","exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","onMounted","getItem","loadSettings","loadRuntimeState","forEach","eventName","addEventListener","onUnmounted","_ctx","_cache","ref_key","onClick","$event","placeholder","number","disabled","rows","entry","onSubmit","npc","maxlength","readonly","ROOT_ID","app","$","createApp","App","mount","root","getElementById","style","position","right","bottom","width","maxHeight","zIndex","overflow","borderRadius","boxShadow","append","ensureRoot","success","on","unmount"],"sourceRoot":""}